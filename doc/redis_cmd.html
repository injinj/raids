<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<title>Rai DS Redis commands</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Rai DS Redis commands</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_preface">Preface</a>
<ul class="sectlevel2">
<li><a href="#_common_return_values">Common Return Values</a></li>
<li><a href="#_notation_used_by_the_examples">Notation used by the Examples</a></li>
<li><a href="#_format_of_the_command_arity_table">Format of the Command Arity Table</a></li>
<li><a href="#_differences_with_redis">Differences with <strong>Redis</strong></a></li>
</ul>
</li>
<li><a href="#_connection">Connection</a>
<ul class="sectlevel2">
<li><a href="#echo">echo | echo string</a></li>
<li><a href="#ping">ping | reply with pong</a></li>
<li><a href="#quit">quit | close connection</a></li>
<li><a href="#select">select | choose db</a></li>
</ul>
</li>
<li><a href="#_server">Server</a>
<ul class="sectlevel2">
<li><a href="#client">client | query connected clients</a></li>
<li><a href="#command">command | query command info</a></li>
<li><a href="#config">config | query config</a></li>
<li><a href="#dbsize">dbsize | get number of keys</a></li>
<li><a href="#debug">debug | run debug</a></li>
<li><a href="#flushall">flushall | remove keys</a></li>
<li><a href="#flushdb">flushdb | remove keys from db</a></li>
<li><a href="#info">info | query server stats</a></li>
<li><a href="#monitor">monitor | monitor commands</a></li>
<li><a href="#save">save | sync save</a></li>
<li><a href="#load">load | sync load</a></li>
<li><a href="#shutdown">shutdown | shutdown server</a></li>
<li><a href="#time">time | get server time</a></li>
</ul>
</li>
<li><a href="#_key">Key</a>
<ul class="sectlevel2">
<li><a href="#del">del | delete keys</a></li>
<li><a href="#dump">dump | dump key</a></li>
<li><a href="#exists">exists | test if key exists</a></li>
<li><a href="#expire">expire | set key expire secs</a></li>
<li><a href="#expireat">expireat | set key expire utc</a></li>
<li><a href="#keys">keys | get keys matching pattern</a></li>
<li><a href="#object">object | inspect key</a></li>
<li><a href="#persist">persist | clear expire stamp</a></li>
<li><a href="#pexpire">pexpire | set expire millisecs</a></li>
<li><a href="#pexpireat">pexpireat | set expire ms utc</a></li>
<li><a href="#pttl">pttl | get the ms time left</a></li>
<li><a href="#randomkey">randomkey | get a random key</a></li>
<li><a href="#rename">rename | rename key to new name</a></li>
<li><a href="#renamenx">renamenx | rename key if not exist</a></li>
<li><a href="#restore">restore | restore key from dump</a></li>
<li><a href="#touch">touch | set last access time</a></li>
<li><a href="#ttl">ttl | get ttl secs</a></li>
<li><a href="#type">type | get type of key</a></li>
<li><a href="#unlink">unlink | delete key</a></li>
<li><a href="#scan">scan | scan matching keys</a></li>
</ul>
</li>
<li><a href="#_string">String</a>
<ul class="sectlevel2">
<li><a href="#append">append | append to value</a></li>
<li><a href="#bitcount">bitcount | count bits</a></li>
<li><a href="#bitfield">bitfield | manipulate bits</a></li>
<li><a href="#bitop">bitop | bitwise operator</a></li>
<li><a href="#bitpos">bitpos | find a bit</a></li>
<li><a href="#decr">decr | decr by one</a></li>
<li><a href="#decrby">decrby | decr by integer</a></li>
<li><a href="#get">get | get key value</a></li>
<li><a href="#getbit">getbit | git bit at offset</a></li>
<li><a href="#getrange">getrange | get range in string</a></li>
<li><a href="#getset">getset | swap values</a></li>
<li><a href="#incr">incr | incr by one</a></li>
<li><a href="#incrby">incrby | incr by integer</a></li>
<li><a href="#incrbyfloat">incrbyfloat | incr by decimal</a></li>
<li><a href="#mget">mget | get multiple values</a></li>
<li><a href="#mset">mset | set multiple values</a></li>
<li><a href="#msetnx">msetnx | set if not exist</a></li>
<li><a href="#psetex">psetex | set with expiration</a></li>
<li><a href="#set">set | set value</a></li>
<li><a href="#setbit">setbit | set bits</a></li>
<li><a href="#setex">setex | set with expiration</a></li>
<li><a href="#setnx">setnx | set if not exist</a></li>
<li><a href="#setrange">setrange | set value range</a></li>
<li><a href="#strlen">strlen | get strlen</a></li>
</ul>
</li>
<li><a href="#_list">List</a>
<ul class="sectlevel2">
<li><a href="#blpop">blpop | block and lpop list</a></li>
<li><a href="#brpop">brpop | block and rpop list</a></li>
<li><a href="#brpoplpush">brpoplpush | block rpop then lpush</a></li>
<li><a href="#lindex">lindex | get list elem at index</a></li>
<li><a href="#linsert">linsert | insert list elem</a></li>
<li><a href="#llen">llen | get list length</a></li>
<li><a href="#lpop">lpop | left pop list elem</a></li>
<li><a href="#lpush">lpush | left push list elem</a></li>
<li><a href="#lpushx">lpushx | left push if exists</a></li>
<li><a href="#lrange">lrange | get range of elems</a></li>
<li><a href="#lrem">lrem | remove count elems</a></li>
<li><a href="#lset">lset | set list elem at index</a></li>
<li><a href="#ltrim">ltrim | trim list elems</a></li>
<li><a href="#rpop">rpop | right pop list elem</a></li>
<li><a href="#rpoplpush">rpoplpush | right pop left push</a></li>
<li><a href="#rpush">rpush | right push elem</a></li>
<li><a href="#rpushx">rpushx | right push if exist</a></li>
</ul>
</li>
<li><a href="#_hash">Hash</a>
<ul class="sectlevel2">
<li><a href="#happend">happend | append a value</a></li>
<li><a href="#hdel">hdel | delete fields</a></li>
<li><a href="#hexists">hexists | if field exists</a></li>
<li><a href="#hget">hget | get a field value</a></li>
<li><a href="#hgetall">hgetall | get all field values</a></li>
<li><a href="#hincrby">hincrby | incr field</a></li>
<li><a href="#hincrbyfloat">hincrbyfloat | incr field</a></li>
<li><a href="#hkeys">hkeys | get all field keys</a></li>
<li><a href="#hlen">hlen | get number of fields</a></li>
<li><a href="#hmget">hmget | get multiple field vals</a></li>
<li><a href="#hmset">hmset | set multiple field vals</a></li>
<li><a href="#hset">hset | set a field value</a></li>
<li><a href="#hsetnx">hsetnx | set if not present</a></li>
<li><a href="#hstrlen">hstrlen | get strlen of field val</a></li>
<li><a href="#hvals">hvals | get all values</a></li>
<li><a href="#hscan">hscan | iterate fields</a></li>
</ul>
</li>
<li><a href="#_set">Set</a>
<ul class="sectlevel2">
<li><a href="#sadd">sadd | add to set</a></li>
<li><a href="#scard">scard | get member count</a></li>
<li><a href="#sdiff">sdiff | subtract sets</a></li>
<li><a href="#sdiffstore">sdiffstore | subtract and store</a></li>
<li><a href="#sinter">sinter | intersect sets</a></li>
<li><a href="#sinterstore">sinterstore | intersect and store</a></li>
<li><a href="#sismember">sismember | test membership</a></li>
<li><a href="#smembers">smembers | get all members</a></li>
<li><a href="#smove">smove | move member to set</a></li>
<li><a href="#spop">spop | remove rand members</a></li>
<li><a href="#srandmember">srandmember | get rand members</a></li>
<li><a href="#srem">srem | remove members</a></li>
<li><a href="#sunion">sunion | union sets</a></li>
<li><a href="#sunionstore">sunionstore | union and store</a></li>
<li><a href="#sscan">sscan | iterate and match</a></li>
</ul>
</li>
<li><a href="#_sorted_set">Sorted Set</a>
<ul class="sectlevel2">
<li><a href="#zadd">zadd | add to zset</a></li>
<li><a href="#zcard">zcard | get member count</a></li>
<li><a href="#zcount">zcount | count within bounds</a></li>
<li><a href="#zincrby">zincrby | incr score</a></li>
<li><a href="#zinterstore">zinterstore | intersect and store</a></li>
<li><a href="#zlexcount">zlexcount | count lexical bounds</a></li>
<li><a href="#zrange">zrange | get members with range</a></li>
<li><a href="#zrangebylex">zrangebylex | get with lex range</a></li>
<li><a href="#zrevrangebylex">zrevrangebylex | get rev lex range</a></li>
<li><a href="#zrangebyscore">zrangebyscore | get range by score</a></li>
<li><a href="#zrank">zrank | get rank of member</a></li>
<li><a href="#zrem">zrem | remove members</a></li>
<li><a href="#zremrangebylex">zremrangebylex | remove by lex</a></li>
<li><a href="#zremrangebyrank">zremrangebyrank | remove by rank</a></li>
<li><a href="#zremrangebyscore">zremrangebyscore | remove by score</a></li>
<li><a href="#zrevrange">zrevrange | get reverse range</a></li>
<li><a href="#zrevrangebyscore">zrevrangebyscore | get reverse score</a></li>
<li><a href="#zrevrank">zrevrank | get reverse rank</a></li>
<li><a href="#zscore">zscore | get score of member</a></li>
<li><a href="#zunionstore">zunionstore | store a union</a></li>
<li><a href="#zscan">zscan | iterate a zset</a></li>
<li><a href="#zpopmin">zpopmin | remove minimum score</a></li>
<li><a href="#zpopmax">zpopmax | remove maximum score</a></li>
<li><a href="#bzpopmin">bzpopmin | block pop min score</a></li>
<li><a href="#bzpopmax">bzpopmax | block pop max score</a></li>
</ul>
</li>
<li><a href="#_geo">Geo</a>
<ul class="sectlevel2">
<li><a href="#geoadd">geoadd | add a pos to key</a></li>
<li><a href="#geohash">geohash | get hash of members</a></li>
<li><a href="#geopos">geopos | get pos of members</a></li>
<li><a href="#geodist">geodist | get member distance</a></li>
<li><a href="#georadius">georadius | get members in radius</a></li>
<li><a href="#georadiusbymember">georadiusbymember | get members</a></li>
</ul>
</li>
<li><a href="#_hyperloglog">Hyperloglog</a>
<ul class="sectlevel2">
<li><a href="#pfadd">pfadd | add elems to hlog</a></li>
<li><a href="#pfcount">pfcount | get hlog cardinality</a></li>
<li><a href="#pfmerge">pfmerge | merge multiple hlogs</a></li>
</ul>
</li>
<li><a href="#_pubsub">Pubsub</a>
<ul class="sectlevel2">
<li><a href="#psubscribe">psubscribe | pattern subscribe</a></li>
<li><a href="#pubsub">pubsub | query pubsub info</a></li>
<li><a href="#publish">publish | publish msg to channel</a></li>
<li><a href="#punsubscribe">punsubscribe | pattern unsubscribe</a></li>
<li><a href="#subscribe">subscribe | subscribe channel</a></li>
<li><a href="#unsubscribe">unsubscribe | unsubscribe channel</a></li>
</ul>
</li>
<li><a href="#_transaction">Transaction</a>
<ul class="sectlevel2">
<li><a href="#discard">discard | discard trans</a></li>
<li><a href="#exec">exec | run trans</a></li>
<li><a href="#multi">multi | start trans</a></li>
<li><a href="#unwatch">unwatch | stop watching</a></li>
<li><a href="#watch">watch | start watching</a></li>
</ul>
</li>
<li><a href="#_stream">Stream</a>
<ul class="sectlevel2">
<li><a href="#xinfo">xinfo | get stream info</a></li>
<li><a href="#xadd">xadd | add entry to stream</a></li>
<li><a href="#xtrim">xtrim | trim stream to size</a></li>
<li><a href="#xdel">xdel | delete from stream</a></li>
<li><a href="#xrange">xrange | get range of items</a></li>
<li><a href="#xrevrange">xrevrange | get reverse range</a></li>
<li><a href="#xlen">xlen | get stream length</a></li>
<li><a href="#xread">xread | get next entry</a></li>
<li><a href="#xgroup">xgroup | modify group</a></li>
<li><a href="#xreadgroup">xreadgroup | read next group</a></li>
<li><a href="#xack">xack | consume group entry</a></li>
<li><a href="#xclaim">xclaim | read old group entries</a></li>
<li><a href="#xpending">xpending | find pending by group</a></li>
<li><a href="#xsetid">xsetid | set last entry of group</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_preface">Preface</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Rai DS</strong> (<a href="https://github.com/raitechnology/raids" class="bare">https://github.com/raitechnology/raids</a>) is an abreviation
for <strong>Rai Distribution Server</strong>.  It is the consumer end of a data hub.
It is built on <strong>Rai KV</strong>, which is a shared memory Key Value store.
The other components which shape a <strong>Rai</strong> data hub are the messaging
codecs, <strong>Rai MD</strong> (<a href="https://github.com/raitechnology/raimd" class="bare">https://github.com/raitechnology/raimd</a>), and the
multicast data distribution services, <strong>Rai MS</strong>
(<a href="https://github.com/raitechnology/raims" class="bare">https://github.com/raitechnology/raims</a> (not public yet)).  These are
direct analogs of a classic Market Data system, in which the center is
the data hub which servers communicate typically with multicast or
RDMA protocols, and the edge are the servers which manage the client
consumption of data (<strong>Rai DS</strong>).</p>
</div>
<div class="paragraph">
<p>The commands are broken up into categories.  Each category operates on
a different data type (string, list, hash) or utilizes a special
mechanism (pubsub, script, transaction).  This is how <strong>Redis</strong>
(<a href="https://github.com/antirez/redis" class="bare">https://github.com/antirez/redis</a>) organizes it&#8217;s feature set, and
<strong>Rai DS</strong> follows this convention.  Much or the behavior of the
commands listed here and implemented in <strong>Rai DS</strong> is derived from the
documenation of <strong>Redis</strong> (<a href="https://github.com/antirez/redis-doc" class="bare">https://github.com/antirez/redis-doc</a>).</p>
</div>
<div class="sect2">
<h3 id="_common_return_values">Common Return Values</h3>
<div class="paragraph">
<p>These are common return values which are used by name in this document
(and other <strong>Redis</strong> documents), but have a encoded representation where
this is not clear.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 60%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">RESP encoding</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>OK</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">+OK\r\n</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>nil</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">$-1\r\n</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>""</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">$0\r\n\r\n</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>null</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">*-1\r\n</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>[]</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">*0\r\n</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>0</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">:0\r\n</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>1</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">:1\r\n</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>-1</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">:-1\r\n</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The <strong>nil</strong> value is a null string value, and <strong>null</strong> is a null array
value, but the empty string <strong>""</strong> and the empty array <strong>[]</strong> are also
valid and different than the nulls.  A <strong>nil</strong> is common when the result
is a bulk string, a <strong>null</strong> is common when the result is an array, and
<strong>-1</strong> is common when the result is an integer.</p>
</div>
</div>
<div class="sect2">
<h3 id="_notation_used_by_the_examples">Notation used by the Examples</h3>
<div class="paragraph">
<p>The Redis RESP protocol has 5 basic elements.  Each of these is
displayed in a JSON-like format that is compact and easy to parse.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 42.8571%;">
<col style="width: 28.5714%;">
<col style="width: 28.5715%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">RESP</th>
<th class="tableblock halign-left valign-top">Display</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A simple string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">+OK\r\n</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">'OK'</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">An error string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-ERR reason\r\n</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">`ERR reason`</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">An integer value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">:1234\r\n</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1234</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A bulk string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">$5\r\nhello\r\n</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"hello"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A bulk array</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">*2\r\n+array\r\n:1234\r\n</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">['array',1234]</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_format_of_the_command_arity_table">Format of the Command Arity Table</h3>
<div class="paragraph">
<p>Each category lists the commands in a 6 column table:  command, arity,
first key, last key, step, flags.</p>
</div>
<div class="paragraph">
<p>The arity is the number of terms present in a command.  A positive
arity is exact, a negative arity means that it must have at least this
number of terms.</p>
</div>
<div class="paragraph">
<p>The first key, last key are the positions in the command terms where
the keys are located.  The last key may be negative, this indicates
that it is a position from the end of the command.</p>
</div>
<div class="paragraph">
<p>The step is the offset added to index the next key, so this loop would
find the keys in the command:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>end = last_key;
if ( last_key &lt; 0 )
  end = argc + last_key; /* index from argc */
for ( index = first_key; index &lt;= end; index += step )
  next_key = argv[ index ];</pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 37.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">command</th>
<th class="tableblock halign-left valign-top">arity</th>
<th class="tableblock halign-left valign-top">first key</th>
<th class="tableblock halign-left valign-top">last key</th>
<th class="tableblock halign-left valign-top">step</th>
<th class="tableblock halign-left valign-top">flags</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">example</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The example command has at least 2 terms, the 1st position is the
first key and the last key is greater or equal to the 1st.  The step
between keys is 1.  The following are valid commands.  Note that the
positions are zero based and the term at position 0 is the command.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>example key_one
example key_one key_two key_three</pre>
</div>
</div>
<div class="paragraph">
<p>The flags indicate:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>admin  &#8201;&#8212;&#8201;must have admin privileges.</p>
</li>
<li>
<p>read   &#8201;&#8212;&#8201;there are keys which need read access.</p>
</li>
<li>
<p>write  &#8201;&#8212;&#8201;there are keys which need write access.</p>
</li>
<li>
<p>movable&#8201;&#8212;&#8201;some of the keys in the command are not static and need
to be parsed according to the command syntax in order to locate
them.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_differences_with_redis">Differences with <strong>Redis</strong></h3>
<div class="paragraph">
<p>There are some differences with the way <strong>Rai DS</strong> works compared to
<strong>Redis</strong>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Decimal is used instead of floating point.  This avoids precision
errors inherent in floating point to decimal conversion.</p>
</li>
<li>
<p>The geo hash used is <strong>Uber H3</strong> (<a href="https://eng.uber.com/h3/" class="bare">https://eng.uber.com/h3/</a>), which
uses a hexigon based mapping, not a grid.</p>
</li>
<li>
<p>All of the blocking commands are implemented as pubsub
notifications, since multiple threads are possible.</p>
</li>
<li>
<p>All of the data structures are implemented as contiguous messages,
allowing speculative read operations, avoiding locking overhead.</p>
</li>
<li>
<p>Many of the memory and latency monitoring commands are different,
since the basic structures of system are different.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_connection">Connection</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 37.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">command</th>
<th class="tableblock halign-left valign-top">arity</th>
<th class="tableblock halign-left valign-top">first key</th>
<th class="tableblock halign-left valign-top">last key</th>
<th class="tableblock halign-left valign-top">step</th>
<th class="tableblock halign-left valign-top">flags</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#echo">echo | echo string</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#ping">ping | reply with pong</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#quit">quit | close connection</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#select">select | choose db</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="echo">echo | echo string</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>echo string</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; echo hello
"hello"</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Echo the string.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>The string is sent back.</p>
</div>
</div>
<div class="sect2">
<h3 id="ping">ping | reply with pong</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>ping [string]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; ping
'PONG'
&gt; ping hello
"hello"</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Ping sends PONG when used without a string.  Reply with the string
when it is present.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>Either PONG or the string.</p>
</div>
</div>
<div class="sect2">
<h3 id="quit">quit | close connection</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>quit</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; quit
'OK'
(connection closed)</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Close the connection.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An <strong>OK</strong> is returned, then the connection is closed.</p>
</div>
</div>
<div class="sect2">
<h3 id="select">select | choose db</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>select db</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Change the working database to db, where db is a number between 0 and
255.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p><strong>OK</strong> or range or parse error.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_server">Server</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 37.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">command</th>
<th class="tableblock halign-left valign-top">arity</th>
<th class="tableblock halign-left valign-top">first key</th>
<th class="tableblock halign-left valign-top">last key</th>
<th class="tableblock halign-left valign-top">step</th>
<th class="tableblock halign-left valign-top">flags</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#client">client | query connected clients</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">admin</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#command">command | query command info</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#config">config | query config</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">admin</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#dbsize">dbsize | get number of keys</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#debug">debug | run debug</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">admin</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#flushall">flushall | remove keys</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">admin</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#flushdb">flushdb | remove keys from db</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">admin</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#info">info | query server stats</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#monitor">monitor | monitor commands</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">admin</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#save">save | sync save</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">admin</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#load">load | sync load</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">admin</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#shutdown">shutdown | shutdown server</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">admin</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#time">time | get server time</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="client">client | query connected clients</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>client [setname name | getname | id | kill match | list match |
        reply state]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; client setname AAA
'OK'</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Set the current connection name.</p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; client getname
"AAA"</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get the current connection name.</p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; client id
12</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get the current connection id.</p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; client list type tcp
id=12 addr=[::1]:58806 fd=14 name=AAA kind=redis age=150 idle=0 rbuf=0
  rsz=16384 imsg=7 br=257 wbuf=0 wsz=5120 omsg=6 bs=1082 flags=N db=0
  sub=0 psub=0 multi=-1 cmd=client
id=13 addr=[::1]:58808 fd=15 name= kind=redis age=74 idle=74 rbuf=0
  rsz=16384 imsg=0 br=0 wbuf=0 wsz=5120 omsg=0 bs=0 flags=N db=0
  sub=0 psub=0 multi=-1 cmd=none</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>List the clients.  The filters that match the clients which are listed
are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>type [ tcp | udp | unix | listen | redis | pubsub | normal | http |
nats | capr | rv ]&#8201;&#8212;&#8201;filter by connection class.</p>
</li>
<li>
<p>id N&#8201;&#8212;&#8201;filter by id number</p>
</li>
<li>
<p>addr IP&#8201;&#8212;&#8201;filter by IP address</p>
</li>
<li>
<p>skipme&#8201;&#8212;&#8201;skip the current connection</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; client kill id 13
1
&gt; client kill type redis skipme
0</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Kill clients.  The filters that match the clients which are listed the
same as the filters that list.</p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; client reply skip
&gt; ping
&gt; ping
'PONG'
&gt; client reply off
&gt; ping
&gt; client reply on
'OK'
&gt; ping
'PONG'</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Alter the reply behavior of the connection.  If skipped or off, output
will be muted.</p>
</div>
</div>
<div class="sect2">
<h3 id="command">command | query command info</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>command [count | getkeys &lt;cmd-full&gt; | info [cmd] | help]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; command info get
[["get",2,['readonly','fast'],1,1,1]]
&gt; command count
193
&gt; command help get
['GET','key ; Get value']</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get command details and help.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>Array of strings, command info.</p>
</div>
</div>
<div class="sect2">
<h3 id="config">config | query config</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>config [get &lt;param&gt; | rewrite | set &lt;param&gt; &lt;value&gt; | resetstat]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get, set config parameters.  There is no configuration, so these
are not functional except get, which returns sane values.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>Array of config key values.</p>
</div>
</div>
<div class="sect2">
<h3 id="dbsize">dbsize | get number of keys</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>dbsize</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; dbsize
299999</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get number of keys in db.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An integer number of keys.</p>
</div>
</div>
<div class="sect2">
<h3 id="debug">debug | run debug</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>debug [object key | htstats]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; set hello world
'OK'
&gt; debug object hello
key:         "hello"
hash:        2aa73a1eeb0b2d45:fd102121185ce157
pos:         [732172]+0.0
update_time: -4s
flags:       string-Upd-Ival-Key-Stmp
db:          0
val:         0
seqno:       3
size:        5</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get debug info about key.</p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; debug htstats
db_num:  0

-= totals =-
read:    8896064
write:   2045184
spins:   0
chains:  0
add:     303
drop:    2
expire:  0
htevict: 0
afail:   0
hit:     511040
miss:    0
cuckacq: 0
cuckfet: 0
cuckmov: 0
cuckret: 0
cuckmax: 0

-= self =-
read:    8896064
write:   2045184
spins:   0
chains:  0
add:     303
drop:    2
expire:  0
htevict: 0
afail:   0
hit:     511040
miss:    0
cuckacq: 0
cuckfet: 0
cuckmov: 0
cuckret: 0
cuckmax: 0</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get information about the hash table counters.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>A string description of debug info or bad command error.</p>
</div>
</div>
<div class="sect2">
<h3 id="flushall">flushall | remove keys</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>flushall [async]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Remove keys from all dbs.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p><strong>OK</strong> if successful, error otherwise.</p>
</div>
</div>
<div class="sect2">
<h3 id="flushdb">flushdb | remove keys from db</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>flushdb [async]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Remove keys from selected db</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p><strong>OK</strong> if successful, error otherwise.</p>
</div>
</div>
<div class="sect2">
<h3 id="info">info | query server stats</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>info [server | clients | memory | persistence | stats |
      replication | cpu | commandstats | cluster | keyspace]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; info server
raids_version:        1.0.0-11
raids_git:            fee49cdd
gcc_version:          9.1.1
process_id:           32167
&gt; info clients
redis_clients:        1
pubsub_clients:       0
&gt; info memory
vm_peak:              8204MB
vm_size:              8204MB
&gt; info stats
ht_operations:        505M
ht_chains:            1.0
ht_read:              505M
ht_write:             287
&gt; info cpu
used_cpu_sys:         0.069951
used_cpu_user:        1.445196
used_cpu_total:       1.515147</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get version info and counters.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>A text string with newlines that has the requested info.</p>
</div>
</div>
<div class="sect2">
<h3 id="monitor">monitor | monitor commands</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>monitor</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; monitor
["pmessage","__monitor_@*","__monitor_@0__:127.0.0.1:60646",
[["get","k"],"value","1580125101.975300"]]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Monitor commands executed by server from all clients.  This is an
alias for <code>psubscribe _monitor_@*</code>.  Running once enables, running
twice disables the monitor.  In order to monitor just one client, or
just one ip address, use a pattern that includes the address:
<code>psubscribe _monitor_@0__:127.0.0.1*</code></p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An array which indicates the db number and client connected address
(<code>"__monitor_@0__:127.0.0.1:60646"</code>), the command executed
(<code>["get","k"]</code>), and the result of executing the command (<code>"value"</code>).</p>
</div>
</div>
<div class="sect2">
<h3 id="save">save | sync save</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>save</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Synchronously save to rdb format file.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p><strong>OK</strong> or error if save fails.</p>
</div>
</div>
<div class="sect2">
<h3 id="load">load | sync load</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>load</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Synchronously load from rdb format file.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p><strong>OK</strong> or error if load fails.</p>
</div>
</div>
<div class="sect2">
<h3 id="shutdown">shutdown | shutdown server</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>shutdown</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Shutdown server.  This will cause the connected instance to quit.</p>
</div>
</div>
<div class="sect2">
<h3 id="time">time | get server time</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>time</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; time
["1580125969","562228"]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get server time.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An array, UTC seconds and microseconds (1 usec = 1/1000000 second).</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_key">Key</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 37.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">command</th>
<th class="tableblock halign-left valign-top">arity</th>
<th class="tableblock halign-left valign-top">first key</th>
<th class="tableblock halign-left valign-top">last key</th>
<th class="tableblock halign-left valign-top">step</th>
<th class="tableblock halign-left valign-top">flags</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#del">del | delete keys</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#dump">dump | dump key</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#exists">exists | test if key exists</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#expire">expire | set key expire secs</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#expireat">expireat | set key expire utc</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#keys">keys | get keys matching pattern</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#object">object | inspect key</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#persist">persist | clear expire stamp</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#pexpire">pexpire | set expire millisecs</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#pexpireat">pexpireat | set expire ms utc</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#pttl">pttl | get the ms time left</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#randomkey">randomkey | get a random key</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#rename">rename | rename key to new name</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#renamenx">renamenx | rename key if not exist</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#restore">restore | restore key from dump</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#touch">touch | set last access time</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#ttl">ttl | get ttl secs</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#type">type | get type of key</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#unlink">unlink | delete key</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#scan">scan | scan matching keys</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="del">del | delete keys</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>del key [key ...]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; del h hl hl2 hl3
4</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Delete one or more keys.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An integer count of the number of keys deleted is returned.</p>
</div>
</div>
<div class="sect2">
<h3 id="dump">dump | dump key</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>dump key</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; set k sophisticateduniverse
'OK'
&gt; dump k
"\u0000\u0021sophisticateduniverse\t\u0000!y0\u00022ZD\u0163"</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Serialize value at key.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>The binary value of the key slot as a bulk string or <strong>nil</strong> when key
does not exist.</p>
</div>
</div>
<div class="sect2">
<h3 id="exists">exists | test if key exists</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>exists key [key ...]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; exists k l m
3</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Test if one or more keys exists.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An integer count of the number of keys that exist.</p>
</div>
</div>
<div class="sect2">
<h3 id="expire">expire | set key expire secs</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>expire key secs</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; expire k 10
1</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Set expire seconds.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>The integer <strong>1</strong> if key expire time was set, <strong>0</strong> if not.</p>
</div>
</div>
<div class="sect2">
<h3 id="expireat">expireat | set key expire utc</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>expireat key stamp</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; expireat k 1580076128
1
&gt; ttl k
67</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Set expire at time.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>The integer <strong>1</strong> if key expire time was set, <strong>0</strong> if not.</p>
</div>
</div>
<div class="sect2">
<h3 id="keys">keys | get keys matching pattern</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>keys pattern</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; keys k*
["k","kkk","kk"]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Find all keys matching pattern.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An array of key strings that match the pattern.</p>
</div>
</div>
<div class="sect2">
<h3 id="object">object | inspect key</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>object [refcount key | encoding key | idletime key | freq key | help]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; object freq k
nil
&gt; set k hello
'OK'
&gt; object freq k
0
&gt; set k world
'OK'
&gt; object freq k
1
&gt; object idletime k
6
&gt; object encoding k
"string"</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Inspect key value attributes maintained and stored with the data.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>If key does not exist, then <strong>nil</strong>.  Otherwise an integer value indicating
one of the following based on the command:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>refcount, valid values are always <strong>1</strong>.</p>
</li>
<li>
<p>encoding, the type of data.</p>
</li>
<li>
<p>idletime, the number seconds since the value was updated.</p>
</li>
<li>
<p>freq, the number of times key was updated.  The inital value resets this to
zero, and every subsequent update increments.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="persist">persist | clear expire stamp</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>persist key</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; persist k
1</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Remove expiration time.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>The integer <strong>1</strong> if key exists was cleared, <strong>0</strong> if not.</p>
</div>
</div>
<div class="sect2">
<h3 id="pexpire">pexpire | set expire millisecs</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>pexpire key ms</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; pexpire k 10000
1
&gt; ttl k
7
&gt; pttl k
3986</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Set expire ttl in milliseconds.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>The integer <strong>1</strong> if key expire time was set, <strong>0</strong> if not.</p>
</div>
</div>
<div class="sect2">
<h3 id="pexpireat">pexpireat | set expire ms utc</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>pexpireat key ms</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; pexpireat k 1580077977700
1
&gt; ttl k
59
&gt; pttl k
51395</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Set expire at ms stamp.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>The integer <strong>1</strong> if key expire time was set, <strong>0</strong> if not.</p>
</div>
</div>
<div class="sect2">
<h3 id="pttl">pttl | get the ms time left</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>pttl key</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; pttl k
51395</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get expire time in milliseconds.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>The amount of milliseconds left or <strong>-1</strong> when key doesn&#8217;t expire, and
<strong>-2</strong> when key doesn&#8217;t exist.</p>
</div>
</div>
<div class="sect2">
<h3 id="randomkey">randomkey | get a random key</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>randomkey</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; randomkey
"bf"
&gt; randomkey
"jjj"</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get a random key.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>A string key, if any exists, <strong>nil</strong> if not.</p>
</div>
</div>
<div class="sect2">
<h3 id="rename">rename | rename key to new name</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>rename key newkey</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; rename jjj j
'OK'</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Rename key to a new name.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p><strong>OK</strong> when successful, error otherwise.</p>
</div>
</div>
<div class="sect2">
<h3 id="renamenx">renamenx | rename key if not exist</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>renamenx key newkey</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; renamenx k j
0
&gt; del j
1
&gt; renamenx k j
1</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Rename key if new key doesn&#8217;t exists.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An integer <strong>1</strong> if success, <strong>0</strong> if not, error if key doesn&#8217;t exist.</p>
</div>
</div>
<div class="sect2">
<h3 id="restore">restore | restore key from dump</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>restore key ttl value [replace] [absttl] [idletime idle] [freq lfu]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Restore key using dump format.  The value argument is in a specific binary
format that is constructed by the dump command, which has a version and a crc
checksum attached (not easily constructed without a program).</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p><strong>OK</strong> when successful, error otherwise.</p>
</div>
</div>
<div class="sect2">
<h3 id="touch">touch | set last access time</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>touch key [key ...]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; touch j
1
&gt; object idletime j
4</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Set update time of key.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An integer <strong>1</strong> if success, <strong>0</strong> if not.</p>
</div>
</div>
<div class="sect2">
<h3 id="ttl">ttl | get ttl secs</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>ttl key</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; ttl j
-1
&gt; expire j 100
1
&gt; ttl j
98</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get expire time in seconds.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>The amount of seconds left or <strong>-1</strong> when key doesn&#8217;t expire, and <strong>-2</strong>
when key doesn&#8217;t exist.</p>
</div>
</div>
<div class="sect2">
<h3 id="type">type | get type of key</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>type key</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; pfadd hl 1 2 3 4 5 6 10
1
&gt; type hl
'hyperloglog'</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get the type of a key.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>The type of key in a string or the string none.</p>
</div>
</div>
<div class="sect2">
<h3 id="unlink">unlink | delete key</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>unlink key [key ...]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; unlink j k l m
2</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Non-blocking delete, mark deleted.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An integer count of the number of keys deleted is returned.</p>
</div>
</div>
<div class="sect2">
<h3 id="scan">scan | scan matching keys</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>scan curs [match pat] [count int]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; scan 0 match j* count 1
["18521679",["jjj"]]
&gt; scan 18521679 match j* count 1
["25519714",["j"]]
&gt; scan 25519714 match j* count 1
["0",[]]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get the keys which match a pattern.  The cursor is the offset into the
scan where the results will start.  If the cursor is equal to 18521679
from the example, then the match will start at the 18521679th element
in the key hash.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An array within an array.  The outer array is the cursor counter, the
inner array is the keys matched.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_string">String</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 37.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">command</th>
<th class="tableblock halign-left valign-top">arity</th>
<th class="tableblock halign-left valign-top">first key</th>
<th class="tableblock halign-left valign-top">last key</th>
<th class="tableblock halign-left valign-top">step</th>
<th class="tableblock halign-left valign-top">flags</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#append">append | append to value</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#bitcount">bitcount | count bits</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#bitfield">bitfield | manipulate bits</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#bitop">bitop | bitwise operator</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#bitpos">bitpos | find a bit</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#decr">decr | decr by one</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#decrby">decrby | decr by integer</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#get">get | get key value</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#getbit">getbit | git bit at offset</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#getrange">getrange | get range in string</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#getset">getset | swap values</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#incr">incr | incr by one</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#incrby">incrby | incr by integer</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#incrbyfloat">incrbyfloat | incr by decimal</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#mget">mget | get multiple values</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#mset">mset | set multiple values</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#msetnx">msetnx | set if not exist</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#psetex">psetex | set with expiration</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#set">set | set value</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#setbit">setbit | set bits</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#setex">setex | set with expiration</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#setnx">setnx | set if not exist</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#setrange">setrange | set value range</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#strlen">strlen | get strlen</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="append">append | append to value</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>append key value</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; append s string
5
&gt; append s value
9
&gt; get s
"stringvalue"</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Append value to key.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>The integer strlen of the key after value appended.</p>
</div>
</div>
<div class="sect2">
<h3 id="bitcount">bitcount | count bits</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>bitcount key [start end]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; set s string
'OK'
&gt; bitcount s 0 0
5
&gt; bitfield s get u8 0
115
&gt; getrange s 0 0
"s"</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Count the bits in string from byte offset start to offset end,
inclusive.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An integer count of bits set in the byte range.</p>
</div>
</div>
<div class="sect2">
<h3 id="bitfield">bitfield | manipulate bits</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>bitfield key [get type off] [set type off value]
 [incrby type off incr] [overflow wrap | sat | fail]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; bitfield bf set u8 0 1 set u8 8 2 set u8 16 3 set u8 24 4
[0,0,0,0]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Set integer value at bit offset off as type, where type is signed (iN)
or unsigned (uN) with bit size <strong>1</strong> through <strong>63</strong>, <strong>64</strong> for signed.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An array of the integers that existed before setting the new values.</p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; bitfield bf get u8 0 get u8 8 get u8 16 get u8 24
[1,2,3,4]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get integer value at bit offset, using signed or unsigned type.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An array of integers that are requested.</p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; bitfield bf incrby u8 0 1 incrby u8 8 1 incrby u8 16 1 incrby u8 24 1
[2,3,4,5]
&gt; bitfield bf incrby u8 0 255 overflow wrap
[1]
&gt; bitfield bf incrby u8 8 255 overflow sat
[255]
&gt; bitfield bf incrby u8 16 255 overflow fail
[nil]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Increment integer values at bit offsets.  The overflow arument
modifies the behavior of increment in the case that the result wraps
around zero.  Wrap is the default, saturate (sat) caps the value at
the highest and lowest point, fail discards the new value and uses the
old value, returning <strong>nil</strong>.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An array of the integers after incrementing.</p>
</div>
</div>
<div class="sect2">
<h3 id="bitop">bitop | bitwise operator</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>bitop (and | or | xor | not) dest src [src src ...]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; bitfield i set u8 0 3
[0]
&gt; bitfield j set u8 0 1
[0]
&gt; bitop xor k j i
1
&gt; bitfield k get u8 0
[2]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Bitwise store to dest from srcs by performing logical operations on
each bit.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>The number of bytes stored in dest, which is the minimum size of i and
j, since the trailing zeros are not stored.</p>
</div>
</div>
<div class="sect2">
<h3 id="bitpos">bitpos | find a bit</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>bitpos key bit [start end]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; bitfield k set u8 0 16
[0]
&gt; bitpos k 1 0 1
4
&gt; bitpos k 0 0 1
0</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Find first bit set or clear between start offset and end offset.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>The position of the bit set or clear, or <strong>-1</strong> when not found.</p>
</div>
</div>
<div class="sect2">
<h3 id="decr">decr | decr by one</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>decr key</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; set k 10
'OK'
&gt; decr k
9
&gt; decr k
8</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Decrement integer at key by one.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>The value after decrementing it.  If key is created, then it is
initialized to <strong>-1</strong>.</p>
</div>
</div>
<div class="sect2">
<h3 id="decrby">decrby | decr by integer</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>decrby key int</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; set k 10
'OK'
&gt; decrby k -1
11
&gt; decrby k 10
1</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Decrement integer at key by the integer argument.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>The value after decrementing it.  If key is created, then it is
initialized to the negative of the integer argument.</p>
</div>
</div>
<div class="sect2">
<h3 id="get">get | get key value</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>get key</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; set k val
'OK'
&gt; get k
"val"
&gt; del k
1
&gt; get k
nil</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get the key value.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>The string value or <strong>nil</strong> when not found.</p>
</div>
</div>
<div class="sect2">
<h3 id="getbit">getbit | git bit at offset</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>getbit key off</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; bitfield k set u8 0 16
[0]
&gt; getbit k 0
0
&gt; getbit k 3
0
&gt; getbit k 4
1</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get value at bit offset in the string stored at the key.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>A <strong>1</strong> if the bit is set, a <strong>0</strong> if not set or not found.</p>
</div>
</div>
<div class="sect2">
<h3 id="getrange">getrange | get range in string</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>getrange key start end</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; set k 0123456789
'OK'
&gt; getrange k 3 7
"34567"
&gt; getrange k 12 13
""
&gt; getrange k 7 -3
"7"
&gt; getrange k 0 -1
"0123456789"</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get a substring of the string value at key.  Start and/or end may be
negative to index from the end of the string.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>A string with the characters in the range start to end, inclusive.</p>
</div>
</div>
<div class="sect2">
<h3 id="getset">getset | swap values</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>getset key value</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; getset k 2
nil
&gt; getset k 3
"2"</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Swap new value with current value and return it.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>The value currently stored with the key, or <strong>nil</strong> if the key is
created.</p>
</div>
</div>
<div class="sect2">
<h3 id="incr">incr | incr by one</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>incr key</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; incr k
4
&gt; incr k
5
&gt; del k
1
&gt; incr k
1</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Increment integer at key by one.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>The value after it is incremented.  If key is created, then it is
initialized to <strong>1</strong>.</p>
</div>
</div>
<div class="sect2">
<h3 id="incrby">incrby | incr by integer</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>incrby key int</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; del k
1
&gt; incrby k 100
100
&gt; incrby k 100
200</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Increment integer at key by the integer argument.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>The value after it is incremented.  If key is created, then it is
initialized to the integer argument.</p>
</div>
</div>
<div class="sect2">
<h3 id="incrbyfloat">incrbyfloat | incr by decimal</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>incrbyfloat key decimal</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; incrbyfloat n 1.1
"1.1"
&gt; incrbyfloat n 1.1
"2.2"
&gt; incrbyfloat n 1.1
"3.3"</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Increment number at key by decimal value.  This uses 128 bit decimal
arithmetic which has a 34 digit range and an exponent from -6143 to
+6144.  <a href="https://en.wikipedia.org/wiki/Decimal128_floating-point_format" class="bare">https://en.wikipedia.org/wiki/Decimal128_floating-point_format</a></p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>The number after it is incremented.  If key is created, then it is
initialized to the decimal argument.</p>
</div>
</div>
<div class="sect2">
<h3 id="mget">mget | get multiple values</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>mget key [key ...]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; mset j 1 k 2 l 3 m 4
'OK'
&gt; mget j k l m mm
["1","2","3","4",nil]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get the values of multiple keys.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An array of values or nil when key doesn&#8217;t exist or is not a string
type.</p>
</div>
</div>
<div class="sect2">
<h3 id="mset">mset | set multiple values</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>mset key val [key val ...]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; mset j 1 k 2 l 3 m 4
'OK'</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Set the values of multiple keys.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p><strong>OK</strong>.</p>
</div>
</div>
<div class="sect2">
<h3 id="msetnx">msetnx | set if not exist</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>msetnx key val [key val ...]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; del j k l m
4
&gt; msetnx j 1 k 2 l 3 m 4
1
&gt; msetnx j 1 k 2 l 3 m 4
0</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Set the values of keys if all keys do not exist.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>If all keys are created a <strong>1</strong> is returned, otherwise no kesy are
created and a <strong>0</strong> is returnd;</p>
</div>
</div>
<div class="sect2">
<h3 id="psetex">psetex | set with expiration</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>psetex key ms val</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; psetex k 1580166892000 hello
'OK'
&gt; ttl k
80
&gt; psetex k 15000 hello
'OK'
&gt; ttl k
13
&gt; pttl k
11991</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Set the value with expiration of key in milliseconds.  The expiration
argument is either stamp or relative time.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p><strong>OK</strong>.</p>
</div>
</div>
<div class="sect2">
<h3 id="set">set | set value</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>set key val [ex secs] [px ms] [nx | xx]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; set k one
'OK'
&gt; set k one xx
'OK'
&gt; set k one nx
nil
&gt; set k one px 15000 xx
'OK'
&gt; ttl k
11
&gt; pttl k
4260</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Set the key value optionally with expiration and <strong>nx</strong> or <strong>xx</strong> test.
The <strong>nx</strong> option tests that the key does not exist before setting.  The
<strong>xx</strong> tests that the key does exist before setting.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p><strong>OK</strong> on success, <strong>nil</strong> when failed.</p>
</div>
</div>
<div class="sect2">
<h3 id="setbit">setbit | set bits</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>setbit key off 1 | 0</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; setbit k 0 1
0
&gt; setbit k 1 1
0
&gt; setbit k 1 0
1
&gt; getbit k 0
1
&gt; getbit k 1
0</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Swap the value at bit offset in string with the new bit value.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>A <strong>1</strong> or <strong>0</strong> is returned, the previous value held by bit.</p>
</div>
</div>
<div class="sect2">
<h3 id="setex">setex | set with expiration</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>setex key secs val</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; setex k 1580166892 hello
'OK'
&gt; ttl k
80
&gt; setex k 15 hello
'OK'
&gt; ttl k
13
&gt; pttl k
11991</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Set the value with expiration of key in seconds.  The expiration
argument is either stamp or relative time.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p><strong>OK</strong>.</p>
</div>
</div>
<div class="sect2">
<h3 id="setnx">setnx | set if not exist</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>setnx key val</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; del k
1
&gt; setnx k value
'OK'
&gt; setnx k value
nil</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Set the value if key does not exist.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p><strong>OK</strong> if success, <strong>nil</strong> if key already exists.</p>
</div>
</div>
<div class="sect2">
<h3 id="setrange">setrange | set value range</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>setrange key off val</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; del k
1
&gt; setrange k 5 waterbuffalo
17
&gt; get k
"\u0000\u0000\u0000\u0000\u0000waterbuffalo"</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Overwrite or create a range in a string stored with the key at the
offset specified.  The data implicitly created by the setrange is zero
padded.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>The length of key after modification.</p>
</div>
</div>
<div class="sect2">
<h3 id="strlen">strlen | get strlen</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>strlen key</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; del k
1
&gt; setrange k 5 waterbuffalo
17
&gt; strlen k
17
&gt; get k
"\u0000\u0000\u0000\u0000\u0000waterbuffalo"</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get length of value, which is the maximum extent, not the strlen
function.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>The length of value, which could be <strong>0</strong> if the key does not exist.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_list">List</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 37.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">command</th>
<th class="tableblock halign-left valign-top">arity</th>
<th class="tableblock halign-left valign-top">first key</th>
<th class="tableblock halign-left valign-top">last key</th>
<th class="tableblock halign-left valign-top">step</th>
<th class="tableblock halign-left valign-top">flags</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#blpop">blpop | block and lpop list</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#brpop">brpop | block and rpop list</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#brpoplpush">brpoplpush | block rpop then lpush</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#lindex">lindex | get list elem at index</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#linsert">linsert | insert list elem</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#llen">llen | get list length</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#lpop">lpop | left pop list elem</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#lpush">lpush | left push list elem</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#lpushx">lpushx | left push if exists</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#lrange">lrange | get range of elems</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#lrem">lrem | remove count elems</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#lset">lset | set list elem at index</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#ltrim">ltrim | trim list elems</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#rpop">rpop | right pop list elem</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#rpoplpush">rpoplpush | right pop left push</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#rpush">rpush | right push elem</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#rpushx">rpushx | right push if exist</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="blpop">blpop | block and lpop list</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>blpop key [key ...] timeout</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; brpop l m 0
["l","one"]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Left pop the list and return the pair of list name and value.  If the
list is empty, block and wait for timeout seconds.  When the timeout
is zero, the command blocks indefinitely.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An array with the name of the list follwed by the left most item
popped from the list.  If timeout expires, <strong>null</strong> is returned.</p>
</div>
</div>
<div class="sect2">
<h3 id="brpop">brpop | block and rpop list</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>brpop key [key ...] timeout</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; brpop l m 0
["l","three"]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Right pop the list and return the pair of list name and value.  If the
list is empty, block and wait for timeout seconds.  When the timeout
is zero, the command blocks indefinitely.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An array with the name of the list follwed by the right most item
popped from the list.  If timeout expires, <strong>null</strong> is returned.</p>
</div>
</div>
<div class="sect2">
<h3 id="brpoplpush">brpoplpush | block rpop then lpush</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>brpoplpush src dest timeout</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; lpush l one
1
&gt; brpoplpush l m 0
"one"
&gt; lrange l 0 -1
[]
&gt; lrange m 0 -1
["one"]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Right pop the source list and left push the destination list.  If
source is empty, block and wait for an element.  The timeout is in
seconds and when it is zero, the command blocks indefinitely.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>A string of the element transferred or <strong>null</strong> when timeout expires.</p>
</div>
</div>
<div class="sect2">
<h3 id="lindex">lindex | get list elem at index</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>lindex key idx</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; lindex m 0
"one"
&gt; lindex m 10
nil</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get list element at index.  Index starts at zero and ends at list
length - 1.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>A string of the element at index or <strong>nil</strong> when index is out of range.</p>
</div>
</div>
<div class="sect2">
<h3 id="linsert">linsert | insert list elem</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>linsert key before | after piv val</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; linsert m after two three
3
&gt; linsert m after four five
-1
&gt; lrange m 0 -1
["one","two","three"]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Insert into list an value before or after the element named by piv.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>The count of elements in the list after inserting the new element, or
<strong>-1</strong> when the piv is not found.</p>
</div>
</div>
<div class="sect2">
<h3 id="llen">llen | get list length</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>llen key</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; llen m
3</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get list length.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>The count of elements in list, <strong>0</strong> if list doesn&#8217;t exist.</p>
</div>
</div>
<div class="sect2">
<h3 id="lpop">lpop | left pop list elem</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>lpop key</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; lpush x one
1
&gt; lpop x
"one"
&gt; lpop x
nil
&gt; type x
'none'</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Left pop the element from the list.  The list key is removed when
there are zero elements left.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>The string value of the element or <strong>nil</strong> if list doesn&#8217;t exist.</p>
</div>
</div>
<div class="sect2">
<h3 id="lpush">lpush | left push list elem</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>lpush key val [val ..]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; lpush x one two three
3</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Left push elements to the list.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>The length of the list after elements are added.</p>
</div>
</div>
<div class="sect2">
<h3 id="lpushx">lpushx | left push if exists</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>lpushx key val [val ..]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; lpushx y one two three
0
&gt; type y
'none'
&gt; lpushx x one two three
6</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Left push elements to the list only if it exists.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>The length of the list after elements are added.</p>
</div>
</div>
<div class="sect2">
<h3 id="lrange">lrange | get range of elems</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>lrange key start stop</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; lrange x 0 -1
["three","two","one","three","two","one"]
&gt; lrange x 6 10
[]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get a range of elements from the list.  If list doesn&#8217;t exist or range
has zero elements, an empty array is returned.  A negative index
starts from the end of the list:  <strong>-1</strong> is the last element, <strong>-2</strong> is
the second last element.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An array of elements between the start and stop indexes, inclusive.</p>
</div>
</div>
<div class="sect2">
<h3 id="lrem">lrem | remove count elems</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>lrem key count value</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; lrange x 0 -1
["three","two","one","three","two","one"]
&gt; lrem x 1 one
1
&gt; lrem x 1 one
1
&gt; lrem x 1 one
0
&gt; lrange x 0 -1
["three","two","three","two"]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Remove count list elements which match the value.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An integer count of elements removed.</p>
</div>
</div>
<div class="sect2">
<h3 id="lset">lset | set list elem at index</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>lset key idx value</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; lpush l one two three
3
&gt; lset l 1 TWO
'OK'
&gt; lrange l 0 -1
["three","TWO","one"]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Set the list element at index.  Index is zero based.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p><strong>OK</strong> if success, error if out of range or not found.</p>
</div>
</div>
<div class="sect2">
<h3 id="ltrim">ltrim | trim list elems</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>ltrim key start stop</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; lpush x one two three one two three
6
&gt; ltrim x 4 10
'OK'
&gt; lrange x 0 -1
["two","one"]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Trim list to range.  If start is beyond the end of the list, then all
elements are removed.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p><strong>OK</strong>.</p>
</div>
</div>
<div class="sect2">
<h3 id="rpop">rpop | right pop list elem</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>rpop key</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; rpush x two three
2
&gt; rpop x
"three"
&gt; rpop x
"two"
&gt; rpop x
nil
&gt; type x
'none'</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Right pop the element from the list.  The list key is removed when
there are zero elements left.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>The string value of the element or <strong>nil</strong> if list doesn&#8217;t exist.</p>
</div>
</div>
<div class="sect2">
<h3 id="rpoplpush">rpoplpush | right pop left push</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>rpoplpush src dest</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; rpush x two three
2
&gt; rpoplpush x y
"three"
&gt; rpoplpush x y
"two"
&gt; rpoplpush x y
nil</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Right pop the source list and left push the destination list.  If
source is empty, return <strong>nil</strong>.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>A string of the element transferred or <strong>nil</strong>.</p>
</div>
</div>
<div class="sect2">
<h3 id="rpush">rpush | right push elem</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>rpush key [val ...]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; rpush x one two three
3</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Right push elements to the list.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>The length of the list after elements are added.</p>
</div>
</div>
<div class="sect2">
<h3 id="rpushx">rpushx | right push if exist</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>rpushx key [val ...]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; rpushx y one two three
0
&gt; type y
'none'
&gt; rpush x one two three
3
&gt; rpushx x one two three
6</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Right push elements to the list only if it exists.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>The length of the list after elements are added.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_hash">Hash</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 37.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">command</th>
<th class="tableblock halign-left valign-top">arity</th>
<th class="tableblock halign-left valign-top">first key</th>
<th class="tableblock halign-left valign-top">last key</th>
<th class="tableblock halign-left valign-top">step</th>
<th class="tableblock halign-left valign-top">flags</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#happend">happend | append a value</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#hdel">hdel | delete fields</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#hexists">hexists | if field exists</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#hget">hget | get a field value</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#hgetall">hgetall | get all field values</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#hincrby">hincrby | incr field</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#hincrbyfloat">hincrbyfloat | incr field</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#hkeys">hkeys | get all field keys</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#hlen">hlen | get number of fields</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#hmget">hmget | get multiple field vals</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#hmset">hmset | set multiple field vals</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#hset">hset | set a field value</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#hsetnx">hsetnx | set if not present</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#hstrlen">hstrlen | get strlen of field val</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#hvals">hvals | get all values</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#hscan">hscan | iterate fields</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="happend">happend | append a value</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>happend key field val [val ...]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; happend h f v
1
&gt; happend h f w
0
&gt; hgetall h
["f","vw"]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Append a string to a field value.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An integer 1 or 0 indicating whether the field was created.</p>
</div>
</div>
<div class="sect2">
<h3 id="hdel">hdel | delete fields</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>hdel key field [field ...]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; hmset h f 1 g 2
'OK'
&gt; hdel h f g
2</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Remove one or more fields from a hash set.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An integer indicating how many fields were removed.</p>
</div>
</div>
<div class="sect2">
<h3 id="hexists">hexists | if field exists</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>hexists key field</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; hmset h f 1 g 2
'OK'
&gt; hexists h f
1
&gt; hexists h h
0</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Test whether field exists in hash.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An integer <strong>1</strong> indicating the field exists or <strong>0</strong> when it doesn&#8217;t.</p>
</div>
</div>
<div class="sect2">
<h3 id="hget">hget | get a field value</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>hget key field</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; hmset h f 1 g 2
'OK'
&gt; hget h f
"1"
&gt; hget h h
nil</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get the value associated with field.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>A string value or <strong>nil</strong> when the field does not exist.</p>
</div>
</div>
<div class="sect2">
<h3 id="hgetall">hgetall | get all field values</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>hgetall key</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; hmset h f 1 g 2
'OK'
&gt; hgetall h
["f","1","g","2"]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get all of the fields and values associated with the hash stored at
key.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An array of field value pairs.  An empty array when key doesn&#8217;t exist.</p>
</div>
</div>
<div class="sect2">
<h3 id="hincrby">hincrby | incr field</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>hincrby key field int</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; hmset h f 1 g 2
'OK'
&gt; hincrby h f 10
11</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Add an integer value to field.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>The integer value after incrementing the integer or an error if the
value stored in field is not an integer.</p>
</div>
</div>
<div class="sect2">
<h3 id="hincrbyfloat">hincrbyfloat | incr field</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>hincrbyfloat key field num</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; hmset h f 1 g 2
'OK'
&gt; hincrbyfloat h f 123456.66
"123457.66"</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Add a numeric value to field.  This uses 128 bit decimal arithmetic
which has a 34 digit range and an exponent from -6143 to +6144.
<a href="https://en.wikipedia.org/wiki/Decimal128_floating-point_format" class="bare">https://en.wikipedia.org/wiki/Decimal128_floating-point_format</a></p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>A string numeric value after incrementing the number or an error if
the value stored in field is not a number.</p>
</div>
</div>
<div class="sect2">
<h3 id="hkeys">hkeys | get all field keys</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>hkeys key</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; hmset h f 1 g 2
'OK'
&gt; hkeys h
["f","g"]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get all field keys in the hash.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An array of field names.</p>
</div>
</div>
<div class="sect2">
<h3 id="hlen">hlen | get number of fields</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>hlen key</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; hmset h f 1 g 2
'OK'
&gt; hlen h
2</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get the number field value pairs in the hash.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An integer count of the number of fields.</p>
</div>
</div>
<div class="sect2">
<h3 id="hmget">hmget | get multiple field vals</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>hmget key field [field ...]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; hmset h f 1 g 2
'OK'
&gt; hmget h f g h
["1","2",nil]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get multiple values from a hash.  If a field doesn&#8217;t exist, a <strong>nil</strong> is
returned.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An array of values or <strong>nil</strong>.</p>
</div>
</div>
<div class="sect2">
<h3 id="hmset">hmset | set multiple field vals</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>hmset key field value [field value ...]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; hmset h f 1 g 2
'OK'
&gt; hmset h g 3 tree 50
'OK'
&gt; hgetall h
["f","1","g","3","tree","50"]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Set multiple field value pairs in the hash.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p><strong>OK</strong>.</p>
</div>
</div>
<div class="sect2">
<h3 id="hset">hset | set a field value</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>hset key field value [field value ...]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; hset h f 1 g 2
2
&gt; hset h g 3 tree 50
1
&gt; hgetall h
["f","1","g","3","tree","50"]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Set multiple field value pairs in the hash.  Preexisting fields will
be overwritten, and new fields will be added to the hash.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An integer indicating number of fields created.</p>
</div>
</div>
<div class="sect2">
<h3 id="hsetnx">hsetnx | set if not present</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>hsetnx key field value</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; hmset h f 1 g 2
'OK'
&gt; hsetnx h tree 50
1
&gt; hsetnx h g 3
0
&gt; hgetall h
["f","1","g","2","tree","50"]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Set a field in a hash only when it does not exist.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An integer <strong>1</strong> or <strong>0</strong> indicating success.</p>
</div>
</div>
<div class="sect2">
<h3 id="hstrlen">hstrlen | get strlen of field val</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>hstrlen key field</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; hsetnx h tree 50
1
&gt; hstrlen h tree
2</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get the string length of value stored with field, <strong>0</strong> if field does
not exist.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An integer string length, which is the count of the 8 bit characters
in the value.</p>
</div>
</div>
<div class="sect2">
<h3 id="hvals">hvals | get all values</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>hvals key</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; hmset h f 1 g 2
'OK'
&gt; hvals h
["f","1","g","2"]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get all of the values stored in the hash.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An array of all the values or <strong>nil</strong> when hash does not exist.</p>
</div>
</div>
<div class="sect2">
<h3 id="hscan">hscan | iterate fields</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>hscan key cursor [match pattern] [count int]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; hset h abc 1 abb 2 abd 3 xyz 4 zzz 5
5
&gt; hscan h 0 match a* count 1
["2",["abc","1"]]
&gt; hscan h 2 match a* count 1
["3",["abb","2"]]
&gt; hscan h 3 match a* count 1
["4",["abd","3"]]
&gt; hscan h 4 match a* count 1
["0",[]]
&gt; hscan h 0
["0",["abc","1","abb","2","abd","3","xyz","4","zzz","5"]]
&gt; hscan h 5 match a* count 1
["0",[]]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get the fields and values which match a pattern.  The cursor is the
offset into the scan where the results will start.  If the cursor is
equal to 3, then the match will start at the 3rd field in the hash.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An array within an array.  The outer array is the cursor counter, the
inner array is the fields and values.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_set">Set</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 37.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">command</th>
<th class="tableblock halign-left valign-top">arity</th>
<th class="tableblock halign-left valign-top">first key</th>
<th class="tableblock halign-left valign-top">last key</th>
<th class="tableblock halign-left valign-top">step</th>
<th class="tableblock halign-left valign-top">flags</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sadd">sadd | add to set</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#scard">scard | get member count</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sdiff">sdiff | subtract sets</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sdiffstore">sdiffstore | subtract and store</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sinter">sinter | intersect sets</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sinterstore">sinterstore | intersect and store</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sismember">sismember | test membership</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#smembers">smembers | get all members</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#smove">smove | move member to set</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#spop">spop | remove rand members</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#srandmember">srandmember | get rand members</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#srem">srem | remove members</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sunion">sunion | union sets</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sunionstore">sunionstore | union and store</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sscan">sscan | iterate and match</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="sadd">sadd | add to set</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>sadd key mem [mem ...]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; sadd s x y z
3
&gt; sadd s z a b
2</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Add one or more members to a set.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An integer count of unique members added.</p>
</div>
</div>
<div class="sect2">
<h3 id="scard">scard | get member count</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>scard key</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; sadd s x y z
3
&gt; scard s
3</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get the count of set members.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An integer count of members.</p>
</div>
</div>
<div class="sect2">
<h3 id="sdiff">sdiff | subtract sets</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>sdiff key [key ...]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; sadd s x y z
3
&gt; sadd t x Y z
3
&gt; sdiff s t
["y"]
&gt; sdiff t s
["Y"]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Subtract sets.  Remove members of the first set using the members of
the the other sets.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An array of members.</p>
</div>
</div>
<div class="sect2">
<h3 id="sdiffstore">sdiffstore | subtract and store</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>sdiffstore dest key [key ...]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; sadd s x y z
3
&gt; sadd t x Y z
3
&gt; sdiffstore sd s t
1
&gt; smembers sd
["y"]
&gt; sdiffstore td t s
1
&gt; smembers td
["Y"]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Remove members of the first set using the members of the the other
sets.  Store the result in the dest key.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>A count of members stored in the set at the dest key.</p>
</div>
</div>
<div class="sect2">
<h3 id="sinter">sinter | intersect sets</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>sinter key [key ...]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; sadd s x y z
3
&gt; sadd t x Y z
3
&gt; sinter s t
["x", "z"]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Intersect all the sets, only keep a member if it is in all sets.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An array of members.</p>
</div>
</div>
<div class="sect2">
<h3 id="sinterstore">sinterstore | intersect and store</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>sinterstore key [key ...]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; sadd s x y z
3
&gt; sadd t x Y z
3
&gt; sinterstore si s t
2
&gt; smembers si
["x", "z"]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Intersect all the sets and store the result in the dest key.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>A count of members stored in the set at the dest key.</p>
</div>
</div>
<div class="sect2">
<h3 id="sismember">sismember | test membership</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>sismember key mem</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; sadd s x y z
3
&gt; sismember s x
1
&gt; sismember s Y
0</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Test whether member is present in a set.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>A <strong>1</strong> is returned if it is a member, a <strong>0</strong> if not.</p>
</div>
</div>
<div class="sect2">
<h3 id="smembers">smembers | get all members</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>smembers key</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; sadd s x y z
3
&gt; smembers s
["x","y","z"]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get all the members in a set.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An array of set members, which could be empty if the key doesn&#8217;t
exist.</p>
</div>
</div>
<div class="sect2">
<h3 id="smove">smove | move member to set</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>smove src dest mem</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; sadd s x y z
3
&gt; sadd t x Y z
3
&gt; smove s t x
1
&gt; smove s t Y
0
&gt; smove s t a
0
&gt; smove s t y
1
&gt; smembers s
["z"]
&gt; smembers t
["x","Y","z","y"]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Move a member to another set, which removes the member from the source
and only adds it the destination if it exists in the source.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>A <strong>1</strong> is returned if the member exists in the source and is moved and
a <strong>0</strong> is returned if the member does not exist in the source.</p>
</div>
</div>
<div class="sect2">
<h3 id="spop">spop | remove rand members</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>spop key [count]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; sadd s x y z
3
&gt; sadd t x Y z
3
&gt; spop s
["y"]
&gt; spop t 300
["x","Y","z"]
&gt; smembers s
["x","z"]
&gt; smembers t
[]
&gt; spop t
[]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Remove count random members from the set and return them.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An array of members removed, which may be less than count if there are
not enough in the set to fulfill the total.</p>
</div>
</div>
<div class="sect2">
<h3 id="srandmember">srandmember | get rand members</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>srandmember key [count]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; sadd s x y z
3
&gt; sadd t x Y z
3
&gt; srandmember s
["y"]
&gt; srandmember t 300
["x","Y","z"]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get count random members from the set and return them.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An array of members removed, which may be less than count if there are
not enough in the set to fulfill the total.</p>
</div>
</div>
<div class="sect2">
<h3 id="srem">srem | remove members</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>srem key mem [mem ...]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; sadd s x y z
3
&gt; srem s y Y z
2</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Remove one or more members from the set.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An integer count of members removed.</p>
</div>
</div>
<div class="sect2">
<h3 id="sunion">sunion | union sets</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>sunion key [key ...]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; sadd s x y z
3
&gt; sadd t x Y z
3
&gt; sunion s t
["x","y","Y","z"]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Union sets and return members.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An array of members.</p>
</div>
</div>
<div class="sect2">
<h3 id="sunionstore">sunionstore | union and store</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>sunionstore dest key [key ...]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; sadd s x y z
3
&gt; sadd t x Y z
3
&gt; sunionstore su s t
4
&gt; smembers su
["x","y","Y","z"]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Union all the sets and store the result in the dest key.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>A count of members stored in the set at the dest key.</p>
</div>
</div>
<div class="sect2">
<h3 id="sscan">sscan | iterate and match</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>sscan key curs [match pattern] [count cnt]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; sadd s abc abb abd xyz zzz
5
&gt; sscan s 0 match a* count 1
["2",["abc"]]
&gt; sscan s 2 match a* count 1
["3",["abb"]]
&gt; sscan s 3 match a* count 1
["4",["abd"]]
&gt; sscan s 4 match a* count 1
["0",[]]
&gt; sscan s 0
["0",["abc","abb","abd","xyz","zzz"]]
&gt; sscan s 5 match a* count 1
["0",[]]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get the fields and values which match a pattern.  The cursor is the
offset into the scan where the results will start.  If the cursor is
equal to 3, then the match will start at the 3rd member of the set.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An array within an array.  The outer array is the cursor counter, the
inner array are the members matched.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_sorted_set">Sorted Set</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 37.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">command</th>
<th class="tableblock halign-left valign-top">arity</th>
<th class="tableblock halign-left valign-top">first key</th>
<th class="tableblock halign-left valign-top">last key</th>
<th class="tableblock halign-left valign-top">step</th>
<th class="tableblock halign-left valign-top">flags</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#zadd">zadd | add to zset</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#zcard">zcard | get member count</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#zcount">zcount | count within bounds</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#zincrby">zincrby | incr score</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#zinterstore">zinterstore | intersect and store</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write movable</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#zlexcount">zlexcount | count lexical bounds</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#zrange">zrange | get members with range</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#zrangebylex">zrangebylex | get with lex range</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#zrevrangebylex">zrevrangebylex | get rev lex range</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#zrangebyscore">zrangebyscore | get range by score</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#zrank">zrank | get rank of member</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#zrem">zrem | remove members</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#zremrangebylex">zremrangebylex | remove by lex</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#zremrangebyrank">zremrangebyrank | remove by rank</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#zremrangebyscore">zremrangebyscore | remove by score</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#zrevrange">zrevrange | get reverse range</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#zrevrangebyscore">zrevrangebyscore | get reverse score</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#zrevrank">zrevrank | get reverse rank</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#zscore">zscore | get score of member</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#zunionstore">zunionstore | store a union</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write movable</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#zscan">zscan | iterate a zset</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#zpopmin">zpopmin | remove minimum score</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#zpopmax">zpopmax | remove maximum score</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#bzpopmin">bzpopmin | block pop min score</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#bzpopmax">bzpopmax | block pop max score</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="zadd">zadd | add to zset</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>zadd key [nx | xx] [ch] [incr] score mem [score mem ...]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; zadd z 10 a 20 b 30 c
3
&gt; zrange z 0 -1 withscores
["a","10","b","20","c","30"]
&gt; zadd z incr 1.1 a 2.2 b 3.3 c
"33.3"
&gt; zrange z 0 -1 withscores
["a","11.1","b","22.2","c","33.3"]
&gt; zadd z incr 1 a
"12.1"
&gt; zadd z nx 10 a 40 d
1
&gt; zrange z 0 -1 withscores
["a","12.1","b","22.2","c","33.3","d","40"]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Add members to zset with score, optionally with a no exist (<strong>nx</strong>) flag
or must exist (<strong>xx</strong>) flag.  The <strong>ch</strong> flag alters the count to the
number members changed, otherwise it is the count of the number of
members created.  The <strong>incr</strong> flag causes the score to be added to the
existing instead of replacing it.  The score is stored as 64 bit
decimal number, which has a 16 digit precision and -383 to +384
exponent range.
<a href="https://en.wikipedia.org/wiki/Decimal64_floating-point_format" class="bare">https://en.wikipedia.org/wiki/Decimal64_floating-point_format</a></p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>A count of members created, or changed when the <strong>ch</strong> flag is set.  If
incr used, then the result is the new score.  A string type is used
for scores since it is a decimal real.</p>
</div>
</div>
<div class="sect2">
<h3 id="zcard">zcard | get member count</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>zcard key</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; zadd z 10 a 20 b 30 c
3
&gt; zrange z 0 -1
["a","b","c"]
&gt; zcard z
3</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get a count of the number members.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An integer count, <strong>0</strong> if the key doesn&#8217;t exist.</p>
</div>
</div>
<div class="sect2">
<h3 id="zcount">zcount | count within bounds</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>zcount key min max</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; zadd z 10 a 20 b 30 c
3
&gt; zcount z 10 30
3
&gt; zcount z 15 30
2</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get number of members within a bounds.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An integer count, <strong>0</strong> if the key doesn&#8217;t exist.</p>
</div>
</div>
<div class="sect2">
<h3 id="zincrby">zincrby | incr score</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>zincrby key incr mem</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; zadd z 10 a 20 b 30 c
3
&gt; zincrby z 1.5 a
"21.5"
&gt; zrange z 0 -1 withscores
["b","20","a","21.5","c","30"]
&gt; zincrby z 1.5 A
"1.5"
&gt; zrange z 0 -1 withscores
["A","1.5","b","20","a","21.5","c","30"]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Add a score to member, if member doesn&#8217;t exists, create it.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>The score after incrementing it.</p>
</div>
</div>
<div class="sect2">
<h3 id="zinterstore">zinterstore | intersect and store</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>zinterstore dest num key [key ...] [weights w [w ...]]
 [aggregate sum|min|max]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; zadd z1 10 a 20 b 30 c
3
&gt; zadd z2 40 d 30 c 10 b
3
&gt; zinterstore z3 2 z1 z2
2
&gt; zrange z3 0 -1 withscores
["b","30","c","60"]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Intersect zsets and store in destination key.  The members which are
in both sets are combined into the destination set.  The score is a
combination of both members, depending on the weight given to each set
and how it is aggregated.  The default is weight 1 for each set (or no
weight), and aggregating by sum.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An integer count of the members in the new set.</p>
</div>
</div>
<div class="sect2">
<h3 id="zlexcount">zlexcount | count lexical bounds</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>zlexcount key min max</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; zadd z 10 a 10 b 10 c 10 d
4
&gt; zlexcount z a d
4
&gt; zcount z 10 10
4</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Count members in a zset within a lexical bounds, when all elements
have the same score (and this only works when all members have the
same score).</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An integer count of the number of members between an inclusive lexical
bounds.</p>
</div>
</div>
<div class="sect2">
<h3 id="zrange">zrange | get members with range</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>zrange key start stop [withscores]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; zadd z 10 a 20 b 30 c 40 d
4
&gt; zrange z 2 3 withscores
["c","30","d","40"]
&gt; zrange z 0 -1
["a","b","c","d"]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get range of members between ranked indices.  The elements are sorted
by score, low to high, so the 0th indexed element is the lowest score
and ranked lowest.  The start and stop can be negative, which would
index from the highest score, so the -1 indexed element is the highest
score and ranked highest.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An array of members with scores if requested.</p>
</div>
</div>
<div class="sect2">
<h3 id="zrangebylex">zrangebylex | get with lex range</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>zrangebylex key min max [limit off cnt]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; zadd z 10 a 10 b 10 c 10 d
4
&gt; zrangebylex z [a [b
["a","b"]
&gt; zrangebylex z - +
["a","b","c","d"]
&gt; zrangebylex z - + limit 0 1
["a"]
&gt; zrangebylex z - + limit 1 1
["b"]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get members in a zset within a lexical bounds, when all elements have
the same score (and this only works when all members have the same
score).</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An array of members.</p>
</div>
</div>
<div class="sect2">
<h3 id="zrevrangebylex">zrevrangebylex | get rev lex range</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>zrevrangebylex key min max [limit off cnt]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; zadd z 10 a 10 b 10 c 10 d
4
&gt; zrevrangebylex z [c [a
["c","b","a"]
&gt; zrevrangebylex z + -
["d","c","b","a"]
&gt; zrevrangebylex z + - limit 0 1
["d"]
&gt; zrevrangebylex z + - limit 1 1
["c"]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get members in a zset within a lexical bounds high to low, in reverse,
when all elements have the same score (and this only works when all
members have the same score).</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An array of members.</p>
</div>
</div>
<div class="sect2">
<h3 id="zrangebyscore">zrangebyscore | get range by score</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>zrangebyscore key min max [withscores]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; zadd z 10 a 20 b 30 c 40 d
4
&gt; zrangebyscore z 10 30
["a","b","c"]
&gt; zrangebyscore z (1 [2 withscores
["b","20"]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get range of members between scores.  The start is the lowest score
and the stop is the highest score.  The members are returned from the
lowest to the highest, in score order.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An array of members, with scores if requested.</p>
</div>
</div>
<div class="sect2">
<h3 id="zrank">zrank | get rank of member</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>zrank key mem</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; zadd z 10 a 20 b 30 c 40 d
4
&gt; zrank z b
1
&gt; zrank z c
2
&gt; zrank z f
nil</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get index of member, it&#8217;s rank, where it is ordered by score.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An integer indicating rank of member, <strong>nil</strong> if member not found.</p>
</div>
</div>
<div class="sect2">
<h3 id="zrem">zrem | remove members</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>zrem key mem [mem ...]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; zadd z 10 a 20 b 30 c 40 d
4
&gt; zrem z b c f
2
&gt; zrange z 0 -1 withscores
["a","10","d","40"]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Remove members by name.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>The integer <strong>1</strong> if removed, <strong>0</strong> if not removed.</p>
</div>
</div>
<div class="sect2">
<h3 id="zremrangebylex">zremrangebylex | remove by lex</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>zremrangebylex key min max</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; zadd z 10 a 10 b 10 c 10 d
4
&gt; zremrangebylex z [a [c
3
&gt; zrange z 0 -1 withscores
["d","10"]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Remove members from a zset within a lexical bounds high to low, in
reverse, when all elements have the same score (and this only works
when all members have the same score).</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An integer count of the number of members removed.</p>
</div>
</div>
<div class="sect2">
<h3 id="zremrangebyrank">zremrangebyrank | remove by rank</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>zremrangebyrank key start stop</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; zadd z 10 a 20 b 30 c 40 d
4
&gt; zremrangebyrank z 1 2
2
&gt; zrange z 0 -1 withscores
["a","10","d","40"]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Remove members from a zset by rank, which is the index of order that
they are sorted.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An integer count of the number of members removed.</p>
</div>
</div>
<div class="sect2">
<h3 id="zremrangebyscore">zremrangebyscore | remove by score</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>zremrangebyscore key start stop</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; zadd z 10 a 20 b 30 c 40 d
4
&gt; zremrangebyscore z 10 20
2
&gt; zrange z 0 -1 withscores
["c","30","d","40"]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Remove members from a zset by score.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An integer count of the number of members removed.</p>
</div>
</div>
<div class="sect2">
<h3 id="zrevrange">zrevrange | get reverse range</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>zrevrange key start stop [withscores]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; zadd z 10 a 20 b 30 c 40 d
4
&gt; zrevrange z 2 3 withscores
["b","20","a","10"]
&gt; zrevrange z 0 -1
["d","c","b","a"]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get range of members between ranks.  The start is the lowest index of
the reverse ordered zset, the stop is the highest.  The members are
returned from low to high using a reverse ordered zset.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An array of members with scores if requested.</p>
</div>
</div>
<div class="sect2">
<h3 id="zrevrangebyscore">zrevrangebyscore | get reverse score</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>zrevrangebyscore key start stop [withscores] [limit off cnt]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; zadd z 10 a 20 b 30 c 40 d
4
&gt; zrevrangebyscore z +inf -inf withscores
["d","40","c","30","b","20","a","10"]
&gt; zrevrangebyscore z 20 10 withscores
["b","20","a","10"]
&gt; zrevrangebyscore z (20 [10 withscores
["a","10"]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get reverse range of members between scores.  The start is the highest
score and the stop is the lowest score.  The members are returned from
the highest to the lowest, in reverse score order.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An array of members with scores if requested.</p>
</div>
</div>
<div class="sect2">
<h3 id="zrevrank">zrevrank | get reverse rank</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>zrevrank key mem</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; zadd z 10 a 20 b 30 c 40 d
40
&gt; zrevrank z b
20
&gt; zrevrank z c
10
&gt; zrevrank z f
nil</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get inverse rank index of member by name.  If the order of the zset is
reversed, then this is the index of the member.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An integer indicating rank of member, <strong>nil</strong> if member is not found.</p>
</div>
</div>
<div class="sect2">
<h3 id="zscore">zscore | get score of member</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>zscore key mem</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; zadd z 10 a 20 b 30 c 40 d
4
&gt; zscore z a
"10"
&gt; zscore z d
"40"</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get score of a member.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>A string which contains a decimal value for the score.</p>
</div>
</div>
<div class="sect2">
<h3 id="zunionstore">zunionstore | store a union</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>zunionstore dest num key [key ...] [weights w [w ...]]
 [aggregate sum|min|max]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; zadd z1 10 a 20 b 30 c
3
&gt; zadd z2 40 d 30 c 10 b
3
&gt; zunionstore z3 2 z1 z2
4
&gt; zrange z3 0 -1 withscores
["a","10","b","30","d","40","c","60"]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Union zsets and store in destination key.  The members which are in
both sets are combined into the destination set.  The score is a
combination of both members, depending on the weight given to each set
and how it is aggregated.  The default is weight 1 for each set (or no
weight), and aggregating by sum.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An integer count of the members in the new set.</p>
</div>
</div>
<div class="sect2">
<h3 id="zscan">zscan | iterate a zset</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>zscan key curs [match pattern] [count cnt]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; zadd z 50 abc 40 abb 30 abd 20 xyz 10 zzz
5
&gt; zscan z 0 match a* count 1
["3",["abd","30"]]
&gt; zscan z 3 match a* count 1
["4",["abb","40"]]
&gt; zscan z 4 match a* count 1
["0",["abc","50"]]
&gt; zscan z 5 match a* count 1
["0",[]]
&gt; zscan z 0
["0",["zzz","10","xyz","20","abd","30","abb","40","abc","50"]]
&gt; zscan z 5 match a* count 1
["0",[]]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get the fields and values which match a pattern.  The cursor is the
offset into the scan where the results will start.  If the cursor is
equal to 3, then the match will start at the 3rd member of the zset.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An array within an array.  The outer array is the cursor counter, the
inner array are the members matched with their scores.</p>
</div>
</div>
<div class="sect2">
<h3 id="zpopmin">zpopmin | remove minimum score</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>zpopmin key [count]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; zadd z 10 a 20 b 30 c 40 d
4
&gt; zpopmin z 2
["a","10","b","20"]
&gt; zpopmin z 20
["c","30","d","40"]
&gt; zpopmin z 20
[]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Remove up to count members the lowest scores of the zset.  If not
enough members are currently in the set, truncate count to the number
of members in the set.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An array with the set of members and the scores, in the order they
were popped, an empty array is returned when the key doesn&#8217;t exist.</p>
</div>
</div>
<div class="sect2">
<h3 id="zpopmax">zpopmax | remove maximum score</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>zpopmax key [count]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; zadd z 10 a 20 b 30 c 40 d
4
&gt; zpopmax z 2
["d","40","c","30"]
&gt; zpopmax z 20
["b","20","a","10"]
&gt; zpopmax z 20
[]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Remove up to count members the highest scores of the zset.  If not
enough members are currently in the set, truncate count to the number
of members in the set.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An array with the set of members and the scores, in the order they
were popped, an empty array is returned when the key doesn&#8217;t exist.</p>
</div>
</div>
<div class="sect2">
<h3 id="bzpopmin">bzpopmin | block pop min score</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>bzpopmin key [key ...] timeout</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; bzpopmin z x 2
null
&gt; bzpopmin z x 0
["z","a","10"]
&gt; bzpopmin z x 0</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Remove lowest score member of the zset.  If no members are currently
in the zset, block and wait timeout seconds for a publisher to add
them.  Wait indefinitely when timeout is zero.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An array with the zset name and the member with scores.  If timeout
occurs, then null is returned.</p>
</div>
</div>
<div class="sect2">
<h3 id="bzpopmax">bzpopmax | block pop max score</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>bzpopmax key [key ...] timeout</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; bzpopmax z x 2
null
&gt; bzpopmax z x 0
["z","d","40"]
&gt; bzpopmax z x 0</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Remove hightest score member of the zset.  If no members are currently
in the zset, block and wait timeout seconds for a publisher to add
them.  Wait indefinitely when timeout is zero.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An array with the zset name and the member with scores.  If timeout
occurs, then null is returned.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_geo">Geo</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 37.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">command</th>
<th class="tableblock halign-left valign-top">arity</th>
<th class="tableblock halign-left valign-top">first key</th>
<th class="tableblock halign-left valign-top">last key</th>
<th class="tableblock halign-left valign-top">step</th>
<th class="tableblock halign-left valign-top">flags</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#geoadd">geoadd | add a pos to key</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#geohash">geohash | get hash of members</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#geopos">geopos | get pos of members</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#geodist">geodist | get member distance</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#georadius">georadius | get members in radius</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write movable</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#georadiusbymember">georadiusbymember | get members</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write movable</p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="geoadd">geoadd | add a pos to key</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>geoadd key long lat mem [long lat mem ...]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Add longitude, latitude to key as member by converting the position to
a <strong>Uber H3</strong> hash and adding it to the set.  The members are ordered by
hash because hashes closest to eachother are also closest by spatual
distance.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An integer is returned indicating how many members were added which
did not already exist.</p>
</div>
</div>
<div class="sect2">
<h3 id="geohash">geohash | get hash of members</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>geohash key mem [mem ...]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get geo hash string by finding the members and converting the <strong>Uber
H3</strong> hash to an encoded hash string as described in on the geohash wiki
page: <a href="https://en.wikipedia.org/wiki/Geohash" class="bare">https://en.wikipedia.org/wiki/Geohash</a></p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An array of geohash strings, which may be <strong>nil</strong> if member is not
found.</p>
</div>
</div>
<div class="sect2">
<h3 id="geopos">geopos | get pos of members</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>geopos key [mem ...]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get geo positions of members as longitude, latitude pairs.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An array of positions or <strong>null</strong> if member is not found.</p>
</div>
</div>
<div class="sect2">
<h3 id="geodist">geodist | get member distance</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>geodist key mem1 mem2 [unit]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Compute the distance in units between members.  Default unit is
meters, but km, feet, miles are accepted.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>A decimal string representing the distance or <strong>nil</strong> when member is not
found.</p>
</div>
</div>
<div class="sect2">
<h3 id="georadius">georadius | get members in radius</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>georadius key long lat rad m | k | ft | mi [withcoord] [withdist]
 [withhash] [count n] [asc | desc] [storedist key]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get all members within a radius of position.  This iterates through
the set using the hash of longitude latitude as the starting point.
When the endpoints are found, the members are returned or stored.
When storedist is used, then the distance and members are stored in a
sorted set.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An array of members with optional distance, hash, and/or coordinates.
The hash is an integer used by the <strong>Uber H3</strong> library.</p>
</div>
</div>
<div class="sect2">
<h3 id="georadiusbymember">georadiusbymember | get members</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>georadiusbymember key member rad m | k | ft | mi [withcoord]
 [withdist] [withhash] [count n] [asc | desc] [storedist key]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Similar to georadius, get all members within a radius of an existing
member.  This iterates through the set using the named member as the
starting point.  When the endpoints are found, the members are
returned or stored.  When storedist is used, then the distance and
members are stored in a sorted set.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An array of members with optional distance, hash, and/or coordinates.
The hash is an integer used by the <strong>Uber H3</strong> library.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_hyperloglog">Hyperloglog</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 37.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">command</th>
<th class="tableblock halign-left valign-top">arity</th>
<th class="tableblock halign-left valign-top">first key</th>
<th class="tableblock halign-left valign-top">last key</th>
<th class="tableblock halign-left valign-top">step</th>
<th class="tableblock halign-left valign-top">flags</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#pfadd">pfadd | add elems to hlog</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#pfcount">pfcount | get hlog cardinality</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#pfmerge">pfmerge | merge multiple hlogs</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="pfadd">pfadd | add elems to hlog</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>pfadd key elem [elem ...]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; pfadd hl 1 2 3 4 5 6
1</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Add elems to hyperloglog table.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>The integer <strong>1</strong> is returned when new elements are added, <strong>0</strong> is
returned when all elements are collisions or duplicates.</p>
</div>
</div>
<div class="sect2">
<h3 id="pfcount">pfcount | get hlog cardinality</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>pfcount key [key ...]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; pfadd hl 1 2 3 4 5 6
1
&gt; pfcount hl
6</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get approximate cardinality of hyperloglog table.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An integer count of the cardinality estimate.</p>
</div>
</div>
<div class="sect2">
<h3 id="pfmerge">pfmerge | merge multiple hlogs</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>pfmerge dkey skey [skey ...]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; pfadd hl 1 2 3 4 5 6 10
1
&gt; pfcount hl
7
&gt; pfadd hl2 1 2 3 4 5 6 7
1
&gt; pfcount hl2
7
&gt; pfmerge hl2 hl hl2
'OK'
&gt; pfcount hl2
8</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Merge multiple hyperloglog tables and write them to the destination.
The dest key is not merged, it written to.  A dest key can be used as
a source key, but the original data in the source will be overwritten
with the merged data.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p><strong>OK</strong>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_pubsub">Pubsub</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 37.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">command</th>
<th class="tableblock halign-left valign-top">arity</th>
<th class="tableblock halign-left valign-top">first key</th>
<th class="tableblock halign-left valign-top">last key</th>
<th class="tableblock halign-left valign-top">step</th>
<th class="tableblock halign-left valign-top">flags</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#psubscribe">psubscribe | pattern subscribe</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#pubsub">pubsub | query pubsub info</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#publish">publish | publish msg to channel</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#punsubscribe">punsubscribe | pattern unsubscribe</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#subscribe">subscribe | subscribe channel</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#unsubscribe">unsubscribe | unsubscribe channel</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="psubscribe">psubscribe | pattern subscribe</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>psubscribe pat [pat ...]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; psubscribe p* q*
executing: ["psubscribe","p*","q*"]
["psubscribe","p*",1]
["psubscribe","q*",2]
["pmessage","p*","publius","friend"]
["pmessage","q*","qQq","OoO"]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Subscribe to patterns.  The messages published to channels which match
the pattern will be forwarded to the client.  A message may be
forwarded to the same client more than once if its channel matches
multiple patterns.  It is also possible to be forwarded the message
again if the channel matches a subscription.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An array with the subscription and an integer which is a count of the
subscriptions open.</p>
</div>
</div>
<div class="sect2">
<h3 id="pubsub">pubsub | query pubsub info</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>pubsub [channels [pattern] | numsub channel | numpat]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; pubsub channels
["two","five","seven","six","one","three","four"]
&gt; pubsub channels t*
["two","three"]
&gt; pubsub channels x*
[]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get the channels that are in use which match a pattern.</p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; pubsub numsub one two three
["one",1,"two",1,"three",1]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get the number of subscription on each channel.</p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; pubsub numpat
3</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Display the number of pattern subscriptions open.</p>
</div>
</div>
<div class="sect2">
<h3 id="publish">publish | publish msg to channel</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>publish channel msg</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; publish one two
1</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Publish msg to channel.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>A count of the times the message is forwarded to a client.</p>
</div>
</div>
<div class="sect2">
<h3 id="punsubscribe">punsubscribe | pattern unsubscribe</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>punsubscribe [pat ...]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; psubscribe x*
["psubscribe","x*",1]
&gt; punsubscribe x*
["punsubscribe","x*",0]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Unsubscribe patterns.  This cancels interest in the patterns
previously subscribed.  If no patterns are named, all patterns are
unsubscribed.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An array with the punsubscribe and an integer count of the number of
subscriptions that the client has open.</p>
</div>
</div>
<div class="sect2">
<h3 id="subscribe">subscribe | subscribe channel</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>subscribe chan [chan ...]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; subscribe x
["subscribe","x",1]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Subscribe to channels.  The messages published to the channels that
are subscribed will be forwarded to the client.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An array with the subscription and an integer which is a count of the
subscriptions open.</p>
</div>
</div>
<div class="sect2">
<h3 id="unsubscribe">unsubscribe | unsubscribe channel</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>unsubscribe [chan ...]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; subscribe x
["subscribe","x",1]
&gt; unsubscribe x
["unsubscribe","x",0]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Unsubscribe channels.  This cancels interest in the channels
previously subscribed.  If no channels are named, all channels are
unsubscribed.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An array with the unsubscribe and an integer count of the number of
subscriptions that the client has open.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_transaction">Transaction</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 37.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">command</th>
<th class="tableblock halign-left valign-top">arity</th>
<th class="tableblock halign-left valign-top">first key</th>
<th class="tableblock halign-left valign-top">last key</th>
<th class="tableblock halign-left valign-top">step</th>
<th class="tableblock halign-left valign-top">flags</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#discard">discard | discard trans</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#exec">exec | run trans</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#multi">multi | start trans</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#unwatch">unwatch | stop watching</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#watch">watch | start watching</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="discard">discard | discard trans</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>discard</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; multi
'OK'
&gt; incr x
'QUEUED'
&gt; discard
'OK'</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Discards watch commands and discards commands queued by multi.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p><strong>OK</strong> or error when no multi is started.</p>
</div>
</div>
<div class="sect2">
<h3 id="exec">exec | run trans</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>exec</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; multi
'OK'
&gt; set x 10
'QUEUED'
&gt; exec
['OK']</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Execute commands queued by multi as an atomic unit.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An array of results, an element for every command, or <strong>null</strong> when a watch
fails.</p>
</div>
</div>
<div class="sect2">
<h3 id="multi">multi | start trans</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>multi</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; multi
'OK'
&gt; set x 10
'QUEUED'
&gt; exec
['OK']
&gt; multi
'OK'
&gt; set
`ERR arguments format cmd: \'set\'`
&gt; set x 10
'QUEUED'
&gt; exec
`ERR transaction aborted, error cmd: \'exec\'`</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Start a transaction, commands issued after multi but before exec are
queued execution.  The syntax of the command and arguments is checked before
being queued, so a command may be <strong>QUEUED</strong> or have an syntax error result.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p><strong>OK</strong>.</p>
</div>
</div>
<div class="sect2">
<h3 id="unwatch">unwatch | stop watching</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>unwatch</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; watch x
'OK'
&gt; unwatch
'OK'</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Discard watched keys.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p><strong>OK</strong>.</p>
</div>
</div>
<div class="sect2">
<h3 id="watch">watch | start watching</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>watch key [key ...]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; watch x
'OK'
&gt; multi
'OK'
&gt; set x 10
'QUEUED'
&gt; exec
null</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Watch keys before a multi transaction starts.  After exec is issued,
all watched keys are examined to make sure that none have been modified.  If a
watched key was modified, then the transaction aborts and <strong>null</strong> is returned.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p><strong>OK</strong>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stream">Stream</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 37.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">command</th>
<th class="tableblock halign-left valign-top">arity</th>
<th class="tableblock halign-left valign-top">first key</th>
<th class="tableblock halign-left valign-top">last key</th>
<th class="tableblock halign-left valign-top">step</th>
<th class="tableblock halign-left valign-top">flags</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#xinfo">xinfo | get stream info</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#xadd">xadd | add entry to stream</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#xtrim">xtrim | trim stream to size</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#xdel">xdel | delete from stream</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#xrange">xrange | get range of items</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#xrevrange">xrevrange | get reverse range</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#xlen">xlen | get stream length</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#xread">xread | get next entry</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read movable</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#xgroup">xgroup | modify group</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#xreadgroup">xreadgroup | read next group</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write movable</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#xack">xack | consume group entry</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#xclaim">xclaim | read old group entries</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#xpending">xpending | find pending by group</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#xsetid">xsetid | set last entry of group</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">write</p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="xinfo">xinfo | get stream info</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>xinfo [consumers key groupname] [groups key] [stream key]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; xinfo groups S
[["name","G","consumers",2,"pending",2,"last-delivered-id",
  "1580474523226-0"],
["name","H","consumers",0,"pending",0,"last-delivered-id","0"]]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get group info for a stream, which shows what the next <strong>id</strong> will be,
the number of consumers and the number of pending records.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An array of groups where each group is an array of field values:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>name&#8201;&#8212;&#8201;the name of the group.</p>
</li>
<li>
<p>consumers&#8201;&#8212;&#8201;the count of consumers.</p>
</li>
<li>
<p>pending&#8201;&#8212;&#8201;the count of records in the pending queue.</p>
</li>
<li>
<p>last-delivered-id&#8201;&#8212;&#8201;an <strong>id</strong> pointer, used to incrementally send
newer records to clients.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The empty array <strong>[]</strong> is returned when the stream doesn&#8217;t exist or it
does not have groups.</p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; xinfo stream S
["length",3,"groups",2,"last-generated-id","1580474524828-0","first-entry",
["1580474520477-0",["c","1"]],"last-entry",["1580474524828-0",["b","1"]]]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get the info for the a stream.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An array of field values describing the stream:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>length&#8201;&#8212;&#8201;the number of items in the stream</p>
</li>
<li>
<p>groups&#8201;&#8212;&#8201;the number of groups associated with the stream</p>
</li>
<li>
<p>last-generated-id&#8201;&#8212;&#8201;the <strong>id</strong> generated by the stream, it is used to
ensure that the next generated <strong>id</strong> is greater than the last.</p>
</li>
<li>
<p>first-entry&#8201;&#8212;&#8201;the item which is at the head of the stream.</p>
</li>
<li>
<p>last-entry&#8201;&#8212;&#8201;the item which is at the tail of the stream.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The empty array <strong>[]</strong> is returned when the stream doesn&#8217;t exist.</p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; xinfo consumers S G
[["name","C","pending",1,"idle",2225891],["name","D","pending",1,
  "idle",2221204]]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An array of consumers, which is an array of field values:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>name&#8201;&#8212;&#8201;the name of the consumer.</p>
</li>
<li>
<p>pending&#8201;&#8212;&#8201;the count of records in the pending queue for this
consumer.</p>
</li>
<li>
<p>idle&#8201;&#8212;&#8201;the number of milliseconds since the consumer was active</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The empty array <strong>[]</strong> is returned when stream or group or consumers
don&#8217;t exist.</p>
</div>
</div>
<div class="sect2">
<h3 id="xadd">xadd | add entry to stream</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>xadd key id field string [field string ...]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; xadd S * cosmic crisp
"1580392806377-0"
&gt; xadd S * red delicous
"1580392886784-0"
&gt; xrange S - +
[["1580392806377-0",["cosmic","crisp"]],
 ["1580392886784-0",["red","delicious"]]]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Add field value pairs to stream.  If <strong>id</strong> is the star, then it is
generated using the current milliseconds, and an incrementing serial
number which is only incremented within the millisecond period.  If
the <strong>id</strong> is not generated, it should be one or two 64 bit integers
(separated by the dash) increasing in value, since an <strong>id</strong> must formed
to increase over time.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>The string <strong>id</strong> associated with the new entry.</p>
</div>
</div>
<div class="sect2">
<h3 id="xtrim">xtrim | trim stream to size</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>xtrim key maxlen [~] count</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; xadd S * cosmic crisp
"1580392806377-0"
&gt; xadd S * red delicous
"1580392886784-0"
&gt; xadd S * shiba inu
"1580393902456-0"
&gt; xadd S * akita inu
"1580393946076-0"
&gt; xlen S
4
&gt; xtrim S maxlen 2
2
&gt; xrange S - +
[["1580393902456-0",["shiba","inu"]],
 ["1580393946076-0",["akita","inu"]]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Trims the stream to a maxlen items from the tail&#8201;&#8212;&#8201;these are the
oldest entries.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An integer count of items removed from the stream.</p>
</div>
</div>
<div class="sect2">
<h3 id="xdel">xdel | delete from stream</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>xdel key id [id ...]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; xadd S * hello world
"1580394876047-0"
&gt; xadd S * hello world
"1580394877281-0"
&gt; xdel S 1580394876047-0 1580394877281-0
2</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Delete entries from the stream which match the <strong>id</strong> strings.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An integer count of items removed from the stream.</p>
</div>
</div>
<div class="sect2">
<h3 id="xrange">xrange | get range of items</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>xrange key start end [count cnt]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; xadd S * a 1
"1580458726320-0"
&gt; xadd S * b 2
"1580458729687-0"
&gt; xadd S * c 3
"1580458733903-0"
&gt; xrange S - +
[["1580458726320-0",["a","1"]],["1580458729687-0",["b","2"]],
 ["1580458733903-0",["c","3"]]]
&gt; xrange S 1580458729687 1580458733903
[["1580458729687-0",["b","2"]],["1580458733903-0",["c","3"]]]
&gt; xrange S 1580458733903-1 +
[]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get items between start and end range.  The <strong>id</strong> assigned to each item
in the stream is a numerically increasing value.  The start is the low
<strong>id</strong>, the end is the high <strong>id</strong>.  All of the items within the range are
returned, up to count, if specified.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An array of items.  Each item is an <strong>id</strong> followed by an array of all
of the fields defined in the entry.  The empty array is the result
when no items are found or the key does not exist.</p>
</div>
</div>
<div class="sect2">
<h3 id="xrevrange">xrevrange | get reverse range</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>xrevrange key start end [count cnt]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; xadd S * a 1
"1580458726320-0"
&gt; xadd S * b 2
"1580458729687-0"
&gt; xadd S * c 3
"1580458733903-0"
&gt; xrevrange S + -
[["1580458733903-0",["c","3"]],["1580458729687-0",["b","2"]],
 ["1580458726320-0",["a","1"]]]
&gt; xrevrange S 1580458733903 1580458729687
[["1580458733903-0",["c","3"]],["1580458729687-0",["b","2"]]]
&gt; xrevrange S + 1580458733903-1
[]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get items between start and end range.  The <strong>id</strong> assigned to each item
in the stream is a numerically increasing value.  The start is the
high <strong>id</strong>, the end is the low <strong>id</strong>.  All of the items within the range
are returned, up to count, if specified.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An array of items.  Each item is an <strong>id</strong> followed by an array of all
of the fields defined in the entry.  The empty array is the result
when no items are found or the key does not exist.</p>
</div>
</div>
<div class="sect2">
<h3 id="xlen">xlen | get stream length</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>xlen key</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; xadd S * a 1
"1580458726320-0"
&gt; xlen S
1
&gt; xadd S * b 2
"1580458729687-0"
&gt; xlen S
2</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get the number of items in a stream.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An integer count of the number of items, or <strong>0</strong> when the stream is
empty or the key doesn&#8217;t exist.</p>
</div>
</div>
<div class="sect2">
<h3 id="xread">xread | get next entry</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>xread [count cnt] [block ms] streams key [key ...] id [id ...]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; xadd S * a 1
"1580466119503-0"
&gt; xadd T * x 1
"1580466126059-0"
&gt; xread streams S T 0 0
[["S",[["1580466119503-0",["a","1"]]]],
 ["T",[["1580466126059-0",["x","1"]]]]]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Read new items on one or more streams which occur after the <strong>id</strong>.  If
all streams are exhausted of new items, then the command can block, if
requested, until items are available on any stream.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An array of streams names that have items, with the array of item
identfiers, then the array of field values.  The result is
structurally similar to the xrange command, where the results are
combined over multiple streams.  If no items are available, or the
block timeout expires, a <strong>null</strong> is returned.</p>
</div>
</div>
<div class="sect2">
<h3 id="xgroup">xgroup | modify group</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>xgroup [create key grp id [mkstream]] [setid key grp id]
 [destroy key grp] [delconsumer key grp cname]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; xgroup create S G 0 mkstream
'OK'
&gt; xgroup create T G 0 mkstream
'OK'
&gt; xadd S * a 1
"1580466848853-0"
&gt; xadd T * x 1
"1580466970348-0"
&gt; xreadgroup group G C streams S T &gt; &gt;
[["S",[["1580466848853-0",["a","1"]]]],
 ["T",[["1580466970348-0",["x","1"]]]]]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Create a consumer group and initialize the next id that consumers will
read.  The option mkstream will create an empty stream if it doesn&#8217;t
exit.</p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; xgroup setid S G 0
'OK'
&gt; xreadgroup group G D streams S T &gt; &gt;
[["S",[["1580466848853-0",["a","1"]]]]]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Set the next id that consumers will read.  Each group contains a
pointer to the next id.  The setid argument moves the pointer to a
different location.</p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; xinfo groups T
[["name","G","consumers",1,"pending",1,
  "last-delivered-id","1580466970348-0"]]
&gt; xgroup destroy T G
1
&gt; xinfo groups T
[]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Destroy the group and associated consumers from the stream.</p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; xinfo consumers S G
[["name","C","pending",1,"idle",466329],
 ["name","D","pending",1,"idle",378057]]
&gt; xgroup delconsumer S G D
1
&gt; xinfo consumers S G
[["name","C","pending",1,"idle",514499]]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Delete the consumer from the group.  The removes any pending items
that the consumer has outstanding.</p>
</div>
<div class="ulist">
<div class="title">Return</div>
<ul>
<li>
<p>xgroup create&#8201;&#8212;&#8201;<strong>OK</strong> or error if key not found and mkstream not
specified.</p>
</li>
<li>
<p>xgroup setid&#8201;&#8212;&#8201;<strong>OK</strong> or error if group or key not found.</p>
</li>
<li>
<p>xgroup destroy&#8201;&#8212;&#8201;An integer <strong>1</strong> if group destroyed, <strong>0</strong> if not
found.</p>
</li>
<li>
<p>xgroup delconsumer&#8201;&#8212;&#8201;An integer <strong>1</strong> if consumer destroyed, <strong>0</strong> if
not found.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="xreadgroup">xreadgroup | read next group</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>xreadgroup group grp consumer [count cnt] [block ms] [noack]
 streams key [key ...] id [id ...]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; xadd S * a 1
"1580466848853-0"
&gt; xadd T * x 1
"1580466970348-0"
&gt; xreadgroup group G C streams S T &gt; &gt;
[["S",[["1580466848853-0",["a","1"]]]],
 ["T",[["1580466970348-0",["x","1"]]]]]
&gt; xpending S G
[1,"1580466848853-0","1580466848853-0",[["C","1"]]]
&gt; xpending T G
[1,"1580466970348-0","1580466970348-0",[["C","1"]]]
&gt; xack S G 1580466848853-0
1
&gt; xack T G 1580466970348-0
1
&gt; xpending S G
[0,nil,nil,nil]
&gt; xpending T G
[0,nil,nil,nil]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Read streams through consumer group.  This assigns items from the
stream to the consumer attached to the group.  A record of this read
is saved with the stream until it is acked with xack, or reassigned
with xclaim, or the group is destroyed with xgroup.  If the <strong>id</strong> used
to read the streams is <strong>&gt;</strong>, then the next id pointer for the group is
used to read the next available items.  If the <strong>id</strong> is a number, then
the records returned are already assigned to the consumer.  This form
is used to find the records after they have been delivered.  If no
records are available and <strong>&gt;</strong> is used, then <strong>null</strong> is returned or if
block ms is used, the command is blocked until the records become
available.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An array of streams names that have items, with the array of item
identfiers, then the array of field values.  The result is
structurally similar to the xrange command, where the results are
combined over multiple streams.  If no items are available, or the
block timeout expires, a <strong>null</strong> is returned.</p>
</div>
</div>
<div class="sect2">
<h3 id="xack">xack | consume group entry</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>xack key grp id [id ...]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; xreadgroup group G C streams S &gt;
[["S",[["1580466848853-0",["a","1"]]]]]
&gt; xpending S G
[1,"1580466848853-0","1580466848853-0",[["C","1"]]]
&gt; xack S G 1580466848853-0
1
&gt; xpending S G
[0,nil,nil,nil]
&gt; xack S G 1580466848853-0
0</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Acknowledge consumption of the <strong>id</strong> strings.  The record in the stream
associated with the group is removed from the pending list.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>An integer count of the number of <strong>id</strong> strings acked.</p>
</div>
</div>
<div class="sect2">
<h3 id="xclaim">xclaim | read old group entries</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>xclaim key grp consumer min-idle-time id [id ...] [idle ms]
[time ms-utc] [retrycount cnt] [force] [justid]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; xreadgroup group G C streams S &gt;
[["S",[["1580466848853-0",["a","1"]]]]]
&gt; xclaim S G D 1 1580466848853-0
[["1580466848853-0",["a","1"]]]
&gt; xpending S G
[1,"1580466848853-0","1580466848853-0",[["D","1"]]]
&gt; xack S G 1580466848853-0
1
&gt; xpending S G
[0,nil,nil,nil]
&gt; xgroup setid S G 0
'OK'
&gt; xclaim S G D 1 1580466848853-0
[]
&gt; xreadgroup group G C streams S &gt;
[["S",[["1580466848853-0",["a","1"]]]]]
&gt; xclaim S G D 10000 1580466848853-0
[]
&gt; xclaim S G D 100 1580466848853-0
[["1580466848853-0",["a","1"]]]
&gt; xclaim S G E 0 1580466848853-0 force
[["1580466848853-0",["a","1"]]]
&gt; xclaim S G X 0 1580466848853-0 force justid
["1580466848853-0"]
&gt; xpending S G
[1,"1580466848853-0","1580466848853-0",[["X","1"]]]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Recover items from a stream, group and assign them to a consumer.  An
item must be older than min-idle-time millisecs in order for xclaim to
succeed.  This is to prevent the race condtion of claiming items that
were already claimed.  The force argument causes the record to be
claimed regardless of the pending state.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p>The records are returned when xclaim succeeds, unless justid is
specified.  An empty array is returned when no <strong>id</strong> succeeds.</p>
</div>
</div>
<div class="sect2">
<h3 id="xpending">xpending | find pending by group</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>xpending key grp [start end count] [consumer]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; xpending S G
[1,"1580466848853-0","1580466848853-0",[["X","1"]]]
&gt; xreadgroup group G C count 1 streams S &gt;
[["S",[["1580472282479-0",["b","1"]]]]]
&gt; xreadgroup group G D count 1 streams S &gt;
[["S",[["1580472289614-0",["c","1"]]]]]
&gt; xpending S G
[3,"1580466848853-0","1580472289614-0",
 [["X","1"],["C","1"],["D","1"]]]
&gt; xpending S G - + 10 C
[["1580472282479-0","C",73749,1]]
&gt; xpending S G - + 10 D
[["1580472289614-0","D",77612,1]]
&gt; xadd S * d 1
"1580472723272-0"
&gt; xreadgroup group G D count 1 streams S &gt;
[["S",[["1580472723272-0",["d","1"]]]]]
&gt; xpending S G - + 10 D
[["1580472289614-0","D",397783,1],["1580472723272-0","D",4319,1]]
&gt; xpending S G
[4,"1580466848853-0","1580472723272-0",
 [["X","1"],["C","1"],["D","2"]]]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Get the pending <strong>id</strong> records from group.  Without a consumer, this
requests the number of pending records, pending head and tail for the
group, and the consumers pending count pairs.  With the consumer, this
requests all of the pending records for the consumer, up to the count
specified.  The id, the consumer, the pending time in milliseconds,
and the delivered count are in each of the pending records.</p>
</div>
<div class="ulist">
<div class="title">Return</div>
<ul>
<li>
<p>xpending key grp&#8201;&#8212;&#8201;An array of pending count, head pending <strong>id</strong>,
tail pending <strong>id</strong>, and an array off consumers, each with a count of
pending records.</p>
</li>
<li>
<p>xpending key grp start end count consumer&#8201;&#8212;&#8201;An array of pending
records belonging to the consumer requested, each with an <strong>id</strong>, an
idle time, and a delivery count.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="xsetid">xsetid | set last entry of group</h3>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre>xsetid key grp id</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>&gt; xinfo groups S
[["name","G","consumers",0,"pending",0,
  "last-delivered-id","1580474520477-0"]]
&gt; xsetid S G 0
'OK'
&gt; xinfo groups S
[["name","G","consumers",0,"pending",0,"last-delivered-id","0"]]</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Description</div>
<p>Set the next <strong>id</strong> of a group associated with a stream.</p>
</div>
<div class="paragraph">
<div class="title">Return</div>
<p><strong>OK</strong> if success, error when key or group doesn&#8217;t exist.</p>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2020-04-22 02:17:57 -0700
</div>
</div>
</body>
</html>